!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("wire-frame-landscape",[],e):"object"==typeof exports?exports["wire-frame-landscape"]=e():t.WFL=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=29)}([function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(9);e.clone=function t(n){var o=void 0===n?"undefined":r(n);if("number"===o||"string"===o||"boolean"===o||null===n||void 0===n)return n;if("function"==typeof n.clone)return n.clone();if(Array.isArray(n))return n.map(function(e){return t(e)});if(n instanceof Date)return new Date(n.valueOf());if(i(n))return n;if(n instanceof RegExp)throw new TypeError("Cannot clone "+n);return e.map(n,t)},e.map=function(t,n){var r={};for(var i in t)e.hasOwnProperty(t,i)&&(r[i]=n(t[i]));return r},e.extend=function(t,n){for(var r in n)e.hasOwnProperty(n,r)&&(t[r]=n[r]);return t},e.deepExtend=function t(n,r){if(Array.isArray(r))throw new TypeError("Arrays are not supported by deepExtend");for(var i in r)if(e.hasOwnProperty(r,i))if(r[i]&&r[i].constructor===Object)void 0===n[i]&&(n[i]={}),n[i].constructor===Object?t(n[i],r[i]):n[i]=r[i];else{if(Array.isArray(r[i]))throw new TypeError("Arrays are not supported by deepExtend");n[i]=r[i]}return n},e.deepEqual=function(t,n){var r=void 0,i=void 0,o=void 0;if(Array.isArray(t)){if(!Array.isArray(n))return!1;if(t.length!==n.length)return!1;for(i=0,o=t.length;i<o;i++)if(!e.deepEqual(t[i],n[i]))return!1;return!0}if(t instanceof Object){if(Array.isArray(n)||!(n instanceof Object))return!1;for(r in t)if(!e.deepEqual(t[r],n[r]))return!1;for(r in n)if(!e.deepEqual(t[r],n[r]))return!1;return!0}return t===n},e.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(t){}return!1},e.lazy=function(t,n,r){if(e.canDefineProperty()){var i=!0,o=void 0;Object.defineProperty(t,n,{get:function(){return i&&(o=r(),i=!1),o},set:function(t){o=t,i=!1},configurable:!0,enumerable:!0})}else t[n]=r()},e.traverse=function(t,e){var n=t;if(e)for(var r=e.split("."),i=0;i<r.length;i++){var o=r[i];o in n||(n[o]={}),n=n[o]}return n},e.hasOwnProperty=function(t,e){return t&&Object.hasOwnProperty.call(t,e)},e.isFactory=function(t){return t&&"function"==typeof t.factory}},function(t,e,n){"use strict";var r=n(0);function i(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}e.isNumber=function(t){return"number"==typeof t},e.isInteger=function(t){return"boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)},e.sign=Math.sign||function(t){return t>0?1:t<0?-1:0},e.format=function(t,n){if("function"==typeof n)return n(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var i="auto",o=void 0;switch(n&&(n.notation&&(i=n.notation),e.isNumber(n)?o=n:n.precision&&(o=n.precision)),i){case"fixed":return e.toFixed(t,o);case"exponential":return e.toExponential(t,o);case"engineering":return e.toEngineering(t,o);case"auto":if(n&&n.exponential&&(void 0!==n.exponential.lower||void 0!==n.exponential.upper)){var a=r.map(n,function(t){return t});return a.exponential=void 0,void 0!==n.exponential.lower&&(a.lowerExp=Math.round(Math.log(n.exponential.lower)/Math.LN10)),void 0!==n.exponential.upper&&(a.upperExp=Math.round(Math.log(n.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(n)+" with "+JSON.stringify(a)),e.toPrecision(t,o,a)}return e.toPrecision(t,o,n&&n).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}},e.splitNumber=function(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var n=e[1],r=e[2],i=parseFloat(e[4]||"0"),o=r.indexOf(".");i+=-1!==o?o-1:r.length-1;var a=r.replace(".","").replace(/^0*/,function(t){return i-=t.length,""}).replace(/0*$/,"").split("").map(function(t){return parseInt(t)});return 0===a.length&&(a.push(0),i++),{sign:n,coefficients:a,exponent:i}},e.toEngineering=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);var r=e.roundDigits(e.splitNumber(t),n),o=r.exponent,a=r.coefficients,s=o%3==0?o:o<0?o-3-o%3:o-o%3;if(e.isNumber(n))n>a.length&&(a=a.concat(i(n-a.length)));else{var u=o>=0?o:Math.abs(s);a.length-1<u&&(a=a.concat(i(u-(a.length-1))))}for(var f=Math.abs(o-s),c=1;--f>=0;)c++;var l=a.slice(c).join(""),p=e.isNumber(n)&&l.length||l.match(/[1-9]/)?"."+l:"",h=a.slice(0,c).join("")+p+"e"+(o>=0?"+":"")+s.toString();return r.sign+h},e.toFixed=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);var r=e.splitNumber(t),o="number"==typeof n?e.roundDigits(r,r.exponent+1+n):r,a=o.coefficients,s=o.exponent+1,u=s+(n||0);return a.length<u&&(a=a.concat(i(u-a.length))),s<0&&(a=i(1-s).concat(a),s=1),s<a.length&&a.splice(s,0,0===s?"0.":"."),o.sign+a.join("")},e.toExponential=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);var r=e.splitNumber(t),o=n?e.roundDigits(r,n):r,a=o.coefficients,s=o.exponent;a.length<n&&(a=a.concat(i(n-a.length)));var u=a.shift();return o.sign+u+(a.length>0?"."+a.join(""):"")+"e"+(s>=0?"+":"")+s},e.toPrecision=function(t,n,r){if(isNaN(t)||!isFinite(t))return String(t);var o=r&&void 0!==r.lowerExp?r.lowerExp:-3,a=r&&void 0!==r.upperExp?r.upperExp:5,s=e.splitNumber(t);if(s.exponent<o||s.exponent>=a)return e.toExponential(t,n);var u=n?e.roundDigits(s,n):s,f=u.coefficients,c=u.exponent;f.length<n&&(f=f.concat(i(n-f.length))),f=f.concat(i(c-f.length+1+(f.length<n?n-f.length:0))),f=i(-c).concat(f);var l=c>0?c:0;return l<f.length-1&&f.splice(l+1,0,"."),u.sign+f.join("")},e.roundDigits=function(t,e){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},r=n.coefficients;e<=0;)r.unshift(0),n.exponent++,e++;if(r.length>e&&r.splice(e,r.length-e)[0]>=5){var i=e-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),r[--i]++}return n},e.digits=function(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},e.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,e.nearlyEqual=function(t,n,r){if(null===r||void 0===r)return t===n;if(t===n)return!0;if(isNaN(t)||isNaN(n))return!1;if(isFinite(t)&&isFinite(n)){var i=Math.abs(t-n);return i<e.DBL_EPSILON||i<=Math.max(Math.abs(t),Math.abs(n))*r}return!1}},function(t,e,n){"use strict";function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="DimensionError",r.prototype.isDimensionError=!0,t.exports=r},function(t,e,n){"use strict";e.name="matrix",e.factory=function(t,e,n,r){var i=r("matrix",{"":function(){return o([])},string:function(t){return o([],t)},"string, string":function(t,e){return o([],t,e)},Array:function(t){return o(t)},Matrix:function(t){return o(t,t.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});return i.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},i;function o(e,n,r){return new(t.Matrix.storage(n||"default"))(e,r)}}},function(t,e,n){"use strict";var r=n(1).nearlyEqual,i=n(13);e.factory=function(t,e,n,o){var a=o("equalScalar",{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,n){return t===n||r(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.eq(n)||i(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return t.equals(e)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return a(t.value,e.value)}});return a}},function(t,e,n){"use strict";e.array=n(12),e.boolean=n(42),e.function=n(43),e.number=n(1),e.object=n(0),e.string=n(16),e.emitter=n(15)},function(t,e,n){"use strict";var r=n(46);e.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},e.operators={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},e.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var i={deg:"^\\circ"};e.escape=function(t){return r(t,{preserveFormatting:!0})},e.toSymbol=function(t,n){return(n=void 0!==n&&n)?i.hasOwnProperty(t)?i[t]:"\\mathrm{"+e.escape(t)+"}":e.symbols.hasOwnProperty(t)?e.symbols[t]:e.escape(t)}},function(t,e,n){"use strict";var r=n(0).clone;e.name="algorithm14",e.factory=function(t,e,n,i){var o=t.DenseMatrix;return function(t,e,n,a){var s=t._data,u=t._size,f=t._datatype,c=void 0,l=n;"string"==typeof f&&(c=f,e=i.convert(e,c),l=i.find(n,[c,c]));var p=u.length>0?function t(e,n,r,i,o,a,s){var u=[];if(n===r.length-1)for(var f=0;f<i;f++)u[f]=s?e(a,o[f]):e(o[f],a);else for(var c=0;c<i;c++)u[c]=t(e,n+1,r,r[n+1],o[c],a,s);return u}(l,0,u,u[0],s,e,a):[];return new o({data:p,size:r(u),datatype:c})}}},function(t,e,n){t.exports=n(31)},function(t,e,n){"use strict";t.exports=function(t){return t&&t.constructor.prototype.isBigNumber||!1}},function(t,e,n){"use strict";t.exports=[n(11),n(17),n(44),n(45),n(50),n(52),n(53),n(54),n(24),n(3),n(55)]},function(t,e,n){"use strict";var r=n(5).string.isString;e.name="Matrix",e.path="type",e.factory=function(t,e,n,i){function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator")}return o.prototype.type="Matrix",o.prototype.isMatrix=!0,o.storage=function(t){if(!r(t))throw new TypeError("format must be a string value");var e=o._storage[t];if(!e)throw new SyntaxError("Unsupported matrix storage format: "+t);return e},o._storage={},o.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},o.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},o.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},o.prototype.subset=function(t,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},o.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},o.prototype.set=function(t,e,n){throw new Error("Cannot invoke set on a Matrix interface")},o.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},o.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},o.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},o.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},o.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},o.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},o.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},o.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},o.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},o.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.size=function(t){var e=[];for(;Array.isArray(t);)e.push(t.length),t=t[0];return e},e.validate=function(t,e){if(0===e.length){if(Array.isArray(t))throw new o.default(t.length,0)}else!function t(e,n,r){var i=void 0;var a=e.length;if(a!==n[r])throw new o.default(a,n[r]);if(r<n.length-1){var s=r+1;for(i=0;i<a;i++){var u=e[i];if(!Array.isArray(u))throw new o.default(n.length-1,n.length,"<");t(e[i],n,s)}}else for(i=0;i<a;i++)if(Array.isArray(e[i]))throw new o.default(n.length+1,n.length,">")}(t,e,0)},e.resize=function(t,e,n){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");e.forEach(function(t){if(!r.default.isNumber(t)||!r.default.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+i.default.format(e)+")")});var o=void 0!==n?n:0;return function t(e,n,r,i){var o=void 0,a=void 0,s=e.length,u=n[r],f=Math.min(s,u);if(e.length=u,r<n.length-1){var c=r+1;for(o=0;o<f;o++)a=e[o],Array.isArray(a)||(a=[a],e[o]=a),t(a,n,c,i);for(o=f;o<u;o++)a=[],e[o]=a,t(a,n,c,i)}else{for(o=0;o<f;o++)for(;Array.isArray(e[o]);)e[o]=e[o][0];for(o=f;o<u;o++)e[o]=i}}(t,e,0,o),t},e.reshape=function(t,n){var r=e.flatten(t),i=void 0;function a(t){return t.reduce(function(t,e){return t*e})}if(!Array.isArray(t)||!Array.isArray(n))throw new TypeError("Array expected");if(0===n.length)throw new o.default(0,a(e.size(t)),"!=");for(var s=1,u=0;u<n.length;u++)s*=n[u];if(r.length!==s)throw new o.default(a(n),a(e.size(t)),"!=");try{i=function(t,e){for(var n,r=t,i=e.length-1;i>0;i--){var o=e[i];n=[];for(var a=r.length/o,s=0;s<a;s++)n.push(r.slice(s*o,(s+1)*o));r=n}return r}(r,n)}catch(r){if(r instanceof o.default)throw new o.default(a(n),a(e.size(t)),"!=");throw r}return i},e.unsqueeze=function(t,n,r,i){var o=i||e.size(t);if(r)for(var a=0;a<r;a++)t=[t],o.unshift(1);t=function t(e,n,r){var i=void 0,o=void 0;if(Array.isArray(e)){var a=r+1;for(i=0,o=e.length;i<o;i++)e[i]=t(e[i],n,a)}else for(var s=r;s<n;s++)e=[e];return e}(t,n,0);for(;o.length<n;)o.push(1);return t},e.flatten=function(t){if(!Array.isArray(t))return t;var e=[];return t.forEach(function t(n){Array.isArray(n)?n.forEach(t):e.push(n)}),e},e.map=function(t,e){return Array.prototype.map.call(t,e)},e.forEach=function(t,e){Array.prototype.forEach.call(t,e)},e.filter=function(t,n){if(1!==e.size(t).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,n)},e.filterRegExp=function(t,n){if(1!==e.size(t).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,function(t){return n.test(t)})},e.join=function(t,e){return Array.prototype.join.call(t,e)},e.identify=function(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(0===t.length)return t;var e=[],n=0;e[0]={value:t[0],identifier:0};for(var r=1;r<t.length;r++)t[r]===t[r-1]?n++:n=0,e.push({value:t[r],identifier:n});return e};var r=s(n(1)),i=s(n(16)),o=s(n(2)),a=s(n(41));function s(t){return t&&t.__esModule?t:{default:t}}e.validateIndex=function(t,e){if(!r.default.isNumber(t)||!r.default.isInteger(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new a.default(t,e)},e.squeeze=function(t,n){for(var r=n||e.size(t);Array.isArray(t)&&1===t.length;)t=t[0],r.shift();for(var i=r.length;1===r[i-1];)i--;return i<r.length&&(t=function t(e,n,r){var i=void 0,o=void 0;if(r<n){var a=r+1;for(i=0,o=e.length;i<o;i++)e[i]=t(e[i],n,a)}else for(;Array.isArray(e);)e=e[0];return e}(t,i,0),r.length=i),t},e.generalize=function(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(0===t.length)return t;for(var e=[],n=0;n<t.length;n++)e.push(t[n].value);return e},e.isArray=Array.isArray},function(t,e,n){"use strict";t.exports=function(t,e,n){if(null===n||void 0===n)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var r=t.minus(e).abs();if(r.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return r.lte(i.times(n))}return!1}},function(t,e,n){"use strict";var r=n(2);e.name="algorithm13",e.factory=function(t,e,n,i){var o=t.DenseMatrix;return function(t,e,n){var a=t._data,s=t._size,u=t._datatype,f=e._data,c=e._size,l=e._datatype,p=[];if(s.length!==c.length)throw new r(s.length,c.length);for(var h=0;h<s.length;h++){if(s[h]!==c[h])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+c+")");p[h]=s[h]}var d=void 0,m=n;"string"==typeof u&&u===l&&(d=u,m=i.find(n,[d,d]));var y=p.length>0?function t(e,n,r,i,o,a){var s=[];if(n===r.length-1)for(var u=0;u<i;u++)s[u]=e(o[u],a[u]);else for(var f=0;f<i;f++)s[f]=t(e,n+1,r,r[n+1],o[f],a[f]);return s}(m,0,p,p[0],a,f):[];return new o({data:y,size:p,datatype:d})}}},function(t,e,n){"use strict";var r=n(36);e.mixin=function(t){var e=new r;return t.on=e.on.bind(e),t.off=e.off.bind(e),t.once=e.once.bind(e),t.emit=e.emit.bind(e),t}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(1).format,o=n(40).format,a=n(9);e.isString=function(t){return"string"==typeof t},e.endsWith=function(t,e){var n=t.length-e.length,r=t.length;return t.substring(n,r)===e},e.format=function(t,n){if("number"==typeof t)return i(t,n);if(a(t))return o(t,n);if(function(t){return t&&"object"===(void 0===t?"undefined":r(t))&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t))return n&&"decimal"===n.fraction?t.toString():t.s*t.n+"/"+t.d;if(Array.isArray(t))return function t(n,r){if(Array.isArray(n)){for(var i="[",o=n.length,a=0;a<o;a++)0!==a&&(i+=", "),i+=t(n[a],r);return i+="]"}return e.format(n,r)}(t,n);if(e.isString(t))return'"'+t+'"';if("function"==typeof t)return t.syntax?String(t.syntax):"function";if(t&&"object"===(void 0===t?"undefined":r(t))){if("function"==typeof t.format)return t.format(n);if(t&&t.toString()!=={}.toString())return t.toString();var s=[];for(var u in t)t.hasOwnProperty(u)&&s.push('"'+u+'": '+e.format(t[u],n));return"{"+s.join(", ")+"}"}return String(t)},e.stringify=function(t){for(var e=String(t),n="",r=0;r<e.length;){var i=e.charAt(r);"\\"===i?(n+=i,r++,""!==(i=e.charAt(r))&&-1!=='"\\/bfnrtu'.indexOf(i)||(n+="\\"),n+=i):n+='"'===i?'\\"':i,r++}return'"'+n+'"'},e.escape=function(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},function(t,e,n){"use strict";var r=n(5),i=n(2),o=r.string,a=r.array,s=r.object,u=r.number,f=Array.isArray,c=u.isNumber,l=u.isInteger,p=o.isString,h=a.validateIndex;e.name="DenseMatrix",e.path="type",e.factory=function(t,e,u,d){var m=u(n(11));function y(e,n){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if(n&&!p(n))throw new Error("Invalid datatype: "+n);if(t.isMatrix(e))"DenseMatrix"===e.type?(this._data=s.clone(e._data),this._size=s.clone(e._size),this._datatype=n||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=n||e._datatype);else if(e&&f(e.data)&&f(e.size))this._data=e.data,this._size=e.size,this._datatype=n||e.datatype;else if(f(e))this._data=function t(e){for(var n=0,r=e.length;n<r;n++){var i=e[n];f(i)?e[n]=t(i):i&&!0===i.isMatrix&&(e[n]=t(i.valueOf()))}return e}(e),this._size=a.size(this._data),a.validate(this._data,this._size),this._datatype=n;else{if(e)throw new TypeError("Unsupported type of data ("+r.types.type(e)+")");this._data=[],this._size=[0],this._datatype=n}}function g(t,e,n){if(0===e.length){for(var r=t._data;f(r);)r=r[0];return r}return t._size=e.slice(0),t._data=a.resize(t._data,t._size,n),t}function v(t,e,n){for(var r=t._size.slice(0),i=!1;r.length<e.length;)r.push(0),i=!0;for(var o=0,a=e.length;o<a;o++)e[o]>r[o]&&(r[o]=e[o],i=!0);i&&g(t,r,n)}return y.prototype=new m,y.prototype.type="DenseMatrix",y.prototype.isDenseMatrix=!0,y.prototype.storage=function(){return"dense"},y.prototype.datatype=function(){return this._datatype},y.prototype.create=function(t,e){return new y(t,e)},y.prototype.subset=function(e,n,r){switch(arguments.length){case 1:return function(e,n){if(!t.isIndex(n))throw new TypeError("Invalid index");if(n.isScalar())return e.get(n.min());var r=n.size();if(r.length!==e._size.length)throw new i(r.length,e._size.length);for(var o=n.min(),a=n.max(),s=0,u=e._size.length;s<u;s++)h(o[s],e._size[s]),h(a[s],e._size[s]);return new y(function t(e,n,r,i){var o=i===r-1,a=n.dimension(i);return o?a.map(function(t){return h(t,e.length),e[t]}).valueOf():a.map(function(o){h(o,e.length);var a=e[o];return t(a,n,r,i+1)}).valueOf()}(e._data,n,r.length,0),e._datatype)}(this,e);case 2:case 3:return function(e,n,r,o){if(!n||!0!==n.isIndex)throw new TypeError("Invalid index");var u=n.size(),f=n.isScalar(),c=void 0;if(t.isMatrix(r)?(c=r.size(),r=r.valueOf()):c=a.size(r),f){if(0!==c.length)throw new TypeError("Scalar expected");e.set(n.min(),r,o)}else{if(u.length<e._size.length)throw new i(u.length,e._size.length,"<");if(c.length<u.length){for(var l=0,p=0;1===u[l]&&1===c[l];)l++;for(;1===u[l];)p++,l++;r=a.unsqueeze(r,u.length,p,c)}if(!s.deepEqual(u,c))throw new i(u,c,">");var d=n.max().map(function(t){return t+1});v(e,d,o);var m=u.length;!function t(e,n,r,i,o){var a=o===i-1,s=n.dimension(o);a?s.forEach(function(t,n){h(t),e[t]=r[n[0]]}):s.forEach(function(a,s){h(a),t(e[a],n,r[s[0]],i,o+1)})}(e._data,n,r,m,0)}return e}(this,e,n,r);default:throw new SyntaxError("Wrong number of arguments")}},y.prototype.get=function(t){if(!f(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new i(t.length,this._size.length);for(var e=0;e<t.length;e++)h(t[e],this._size[e]);for(var n=this._data,r=0,o=t.length;r<o;r++){var a=t[r];h(a,n.length),n=n[a]}return n},y.prototype.set=function(t,e,n){if(!f(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new i(t.length,this._size.length,"<");var r,o=void 0,a=void 0;v(this,t.map(function(t){return t+1}),n);var s=this._data;for(o=0,r=t.length-1;o<r;o++)a=t[o],h(a,s.length),s=s[a];return a=t[t.length-1],h(a,s.length),s[a]=e,this},y.prototype.resize=function(t,e,n){if(!f(t))throw new TypeError("Array expected");return g(n?this.clone():this,t,e)},y.prototype.reshape=function(t,e){var n=e?this.clone():this;return n._data=a.reshape(n._data,t),n._size=t.slice(0),n},y.prototype.clone=function(){return new y({data:s.clone(this._data),size:s.clone(this._size),datatype:this._datatype})},y.prototype.size=function(){return this._size.slice(0)},y.prototype.map=function(t){var e=this;return new y({data:function n(r,i){return f(r)?r.map(function(t,e){return n(t,i.concat(e))}):t(r,i,e)}(this._data,[]),size:s.clone(this._size),datatype:this._datatype})},y.prototype.forEach=function(t){var e=this;!function n(r,i){f(r)?r.forEach(function(t,e){n(t,i.concat(e))}):t(r,i,e)}(this._data,[])},y.prototype.toArray=function(){return s.clone(this._data)},y.prototype.valueOf=function(){return this._data},y.prototype.format=function(t){return o.format(this._data,t)},y.prototype.toString=function(){return o.format(this._data)},y.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},y.prototype.diagonal=function(e){if(e){if(t.isBigNumber(e)&&(e=e.toNumber()),!c(e)||!l(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var n=e>0?e:0,r=e<0?-e:0,i=this._size[0],o=this._size[1],a=Math.min(i-r,o-n),s=[],u=0;u<a;u++)s[u]=this._data[u+r][u+n];return new y({data:s,size:[a],datatype:this._datatype})},y.diagonal=function(e,n,r,i,o){if(!f(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(t.isBigNumber(e)&&(e=e.toNumber()),!c(e)||!l(e)||e<1)throw new Error("Size values must be positive integers");return e}),r){if(t.isBigNumber(r)&&(r=r.toNumber()),!c(r)||!l(r))throw new TypeError("The parameter k must be an integer number")}else r=0;i&&p(o)&&(i=d.convert(i,o));var s=r>0?r:0,u=r<0?-r:0,h=e[0],m=e[1],g=Math.min(h-u,m-s),v=void 0;if(f(n)){if(n.length!==g)throw new Error("Invalid value array length");v=function(t){return n[t]}}else if(t.isMatrix(n)){var w=n.size();if(1!==w.length||w[0]!==g)throw new Error("Invalid matrix length");v=function(t){return n.get([t])}}else v=function(){return n};i||(i=t.isBigNumber(v(0))?new t.BigNumber(0):0);var x=[];if(e.length>0){x=a.resize(x,e,i);for(var b=0;b<g;b++)x[b+u][b+s]=v(b)}return new y({data:x,size:[h,m]})},y.fromJSON=function(t){return new y(t)},y.prototype.swapRows=function(t,e){if(!(c(t)&&l(t)&&c(e)&&l(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return h(t,this._size[0]),h(e,this._size[0]),y._swapRows(t,e,this._data),this},y._swapRows=function(t,e,n){var r=n[t];n[t]=n[e],n[e]=r},t.Matrix._storage.dense=y,t.Matrix._storage.default=y,y},e.lazy=!1},function(t,e,n){"use strict";var r=n(0).extend;e.name="add",e.factory=function(t,e,i,o){var a=i(n(3)),s=i(n(19)),u=n(6),f=i(n(47)),c=i(n(48)),l=i(n(49)),p=i(n(14)),h=i(n(7)),d=o("add",r({"DenseMatrix, DenseMatrix":function(t,e){return p(t,e,s)},"DenseMatrix, SparseMatrix":function(t,e){return f(t,e,s,!1)},"SparseMatrix, DenseMatrix":function(t,e){return f(e,t,s,!0)},"SparseMatrix, SparseMatrix":function(t,e){return c(t,e,s)},"Array, Array":function(t,e){return d(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return d(a(t),e)},"Matrix, Array":function(t,e){return d(t,a(e))},"DenseMatrix, any":function(t,e){return h(t,e,s,!1)},"SparseMatrix, any":function(t,e){return l(t,e,s,!1)},"any, DenseMatrix":function(t,e){return h(e,t,s,!0)},"any, SparseMatrix":function(t,e){return l(e,t,s,!0)},"Array, any":function(t,e){return h(a(t),e,s,!1).valueOf()},"any, Array":function(t,e){return h(a(e),t,s,!0).valueOf()},"any, any":s,"any, any, ...any":function(t,e,n){for(var r=d(t,e),i=0;i<n.length;i++)r=d(r,n[i]);return r}},s.signatures));return d.toTex={2:"\\left(${args[0]}"+u.operators.add+"${args[1]}\\right)"},d}},function(t,e,n){"use strict";e.factory=function(t,e,n,r){var i=r("add",{"number, number":function(t,e){return t+e},"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value||void 0===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var n=t.clone();return n.value=i(n.value,e.value),n.fixPrefix=!1,n}});return i}},function(t,e,n){"use strict";var r=n(1).nearlyEqual,i=n(13);e.name="smaller",e.factory=function(t,e,o,a){var s=o(n(3)),u=o(n(21)),f=o(n(22)),c=o(n(23)),l=o(n(14)),p=o(n(7)),h=n(6),d=a("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,n){return t<n&&!r(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.lt(n)&&!i(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return-1===t.compare(e)},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return f(t,e,d)},"SparseMatrix, DenseMatrix":function(t,e){return u(e,t,d,!0)},"DenseMatrix, SparseMatrix":function(t,e){return u(t,e,d,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,d)},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"SparseMatrix, any":function(t,e){return c(t,e,d,!1)},"DenseMatrix, any":function(t,e){return p(t,e,d,!1)},"any, SparseMatrix":function(t,e){return c(e,t,d,!0)},"any, DenseMatrix":function(t,e){return p(e,t,d,!0)},"Array, any":function(t,e){return p(s(t),e,d,!1).valueOf()},"any, Array":function(t,e){return p(s(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+h.operators.smaller+"${args[1]}\\right)"},d}},function(t,e,n){"use strict";var r=n(2);e.name="algorithm03",e.factory=function(t,e,n,i){var o=t.DenseMatrix;return function(t,e,n,a){var s=t._data,u=t._size,f=t._datatype,c=e._values,l=e._index,p=e._ptr,h=e._size,d=e._datatype;if(u.length!==h.length)throw new r(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=u[0],y=u[1],g=void 0,v=0,w=n;"string"==typeof f&&f===d&&(g=f,v=i.convert(0,g),w=i.find(n,[g,g]));for(var x=[],b=0;b<m;b++)x[b]=[];for(var _=[],E=[],N=0;N<y;N++){for(var M=N+1,S=p[N],z=p[N+1],A=S;A<z;A++){var O=l[A];_[O]=a?w(c[A],s[O][N]):w(s[O][N],c[A]),E[O]=M}for(var C=0;C<m;C++)E[C]===M?x[C][N]=_[C]:x[C][N]=a?w(v,s[C][N]):w(s[C][N],v)}return new o({data:x,size:[m,y],datatype:g})}}},function(t,e,n){"use strict";var r=n(2);e.name="algorithm07",e.factory=function(t,e,n,i){var o=t.DenseMatrix;function a(t,e,n,r,i){for(var o=t._values,a=t._index,s=t._ptr,u=s[e],f=s[e+1];u<f;u++){var c=a[u];n[c]=i,r[c]=o[u]}}return function(t,e,n){var s=t._size,u=t._datatype,f=e._size,c=e._datatype;if(s.length!==f.length)throw new r(s.length,f.length);if(s[0]!==f[0]||s[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+f+")");var l=s[0],p=s[1],h=void 0,d=0,m=n;"string"==typeof u&&u===c&&(h=u,d=i.convert(0,h),m=i.find(n,[h,h]));var y=void 0,g=void 0,v=[];for(y=0;y<l;y++)v[y]=[];var w=new o({data:v,size:[l,p],datatype:h}),x=[],b=[],_=[],E=[];for(g=0;g<p;g++){var N=g+1;for(a(t,g,_,x,N),a(e,g,E,b,N),y=0;y<l;y++){var M=_[y]===N?x[y]:d,S=E[y]===N?b[y]:d;v[y][g]=m(M,S)}}return w}}},function(t,e,n){"use strict";e.name="algorithm12",e.factory=function(t,e,n,r){var i=t.DenseMatrix;return function(t,e,n,o){var a=t._values,s=t._index,u=t._ptr,f=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l=f[0],p=f[1],h=void 0,d=n;"string"==typeof c&&(h=c,e=r.convert(e,h),d=r.find(n,[h,h]));for(var m=[],y=new i({data:m,size:[l,p],datatype:h}),g=[],v=[],w=0;w<p;w++){for(var x=w+1,b=u[w],_=u[w+1],E=b;E<_;E++){var N=s[E];g[N]=a[E],v[N]=x}for(var M=0;M<l;M++)0===w&&(m[M]=[]),v[M]===x?m[M][w]=o?d(e,g[M]):d(g[M],e):m[M][w]=o?d(e,0):d(0,e)}return y}}},function(t,e,n){"use strict";e.name="index",e.factory=function(t,e,n,r){return r("index",{"...number | string | BigNumber | Range | Array | Matrix":function(e){var n=e.map(function(e){return t.isBigNumber(e)?e.toNumber():Array.isArray(e)||t.isMatrix(e)?e.map(function(e){return t.isBigNumber(e)?e.toNumber():e}):e}),r=new t.Index;return t.Index.apply(r,n),r}})}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(0).hasOwnProperty;function o(t,e){return!(!t||"object"!==(void 0===t?"undefined":r(t)))&&(!!i(u,e)||!(e in Object.prototype)&&!(e in Function.prototype))}function a(t,e){return!(!t||"function"!=typeof t[e])&&(!(i(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t))&&(!!i(f,e)||!(e in Object.prototype)&&!(e in Function.prototype)))}function s(t){return"object"===(void 0===t?"undefined":r(t))&&t&&t.constructor===Object}var u={length:!0,name:!0},f={toString:!0,valueOf:!0,toLocaleString:!0};e.getSafeProperty=function(t,e){if(s(t)&&o(t,e))return t[e];if("function"==typeof t[e]&&a(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')},e.setSafeProperty=function(t,e,n){if(s(t)&&o(t,e))return t[e]=n,n;throw new Error('No access to property "'+e+'"')},e.isSafeProperty=o,e.validateSafeMethod=function(t,e){if(!a(t,e))throw new Error('No access to method "'+e+'"')},e.isSafeMethod=a,e.isPlainObject=s},function(t,e,n){"use strict";var r=n(0).extend,i=n(12);e.name="multiply",e.factory=function(t,e,o,a){var s=n(6),u=o(n(3)),f=o(n(19)),c=o(n(63)),l=o(n(4)),p=o(n(64)),h=o(n(7)),d=t.DenseMatrix,m=t.SparseMatrix,y=a("multiply",r({"Array, Array":function(e,n){g(i.size(e),i.size(n));var r=y(u(e),u(n));return t.isMatrix(r)?r.valueOf():r},"Matrix, Matrix":function(t,e){var n=t.size(),r=e.size();return g(n,r),1===n.length?1===r.length?function(t,e,n){if(0===n)throw new Error("Cannot multiply two empty vectors");var r=t._data,i=t._datatype,o=e._data,s=e._datatype,u=void 0,l=f,p=c;i&&s&&i===s&&"string"==typeof i&&(u=i,l=a.find(f,[u,u]),p=a.find(c,[u,u]));for(var h=p(r[0],o[0]),d=1;d<n;d++)h=l(h,p(r[d],o[d]));return h}(t,e,n[0]):function(t,e){if("dense"!==e.storage())throw new Error("Support for SparseMatrix not implemented");return function(t,e){var n=t._data,r=t._size,i=t._datatype,o=e._data,s=e._size,u=e._datatype,l=r[0],p=s[1],h=void 0,m=f,y=c;i&&u&&i===u&&"string"==typeof i&&(h=i,m=a.find(f,[h,h]),y=a.find(c,[h,h]));for(var g=[],v=0;v<p;v++){for(var w=y(n[0],o[0][v]),x=1;x<l;x++)w=m(w,y(n[x],o[x][v]));g[v]=w}return new d({data:g,size:[p],datatype:h})}(t,e)}(t,e):1===r.length?v(t,e):w(t,e)},"Matrix, Array":function(t,e){return y(t,u(e))},"Array, Matrix":function(t,e){return y(u(t,e.storage()),e)},"SparseMatrix, any":function(t,e){return p(t,e,c,!1)},"DenseMatrix, any":function(t,e){return h(t,e,c,!1)},"any, SparseMatrix":function(t,e){return p(e,t,c,!0)},"any, DenseMatrix":function(t,e){return h(e,t,c,!0)},"Array, any":function(t,e){return h(u(t),e,c,!1).valueOf()},"any, Array":function(t,e){return h(u(e),t,c,!0).valueOf()},"any, any":c,"any, any, ...any":function(t,e,n){for(var r=y(t,e),i=0;i<n.length;i++)r=y(r,n[i]);return r}},c.signatures));function g(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}var v=a("_multiplyMatrixVector",{"DenseMatrix, any":function(t,e){var n=t._data,r=t._size,i=t._datatype,o=e._data,s=e._datatype,u=r[0],l=r[1],p=void 0,h=f,m=c;i&&s&&i===s&&"string"==typeof i&&(p=i,h=a.find(f,[p,p]),m=a.find(c,[p,p]));for(var y=[],g=0;g<u;g++){for(var v=n[g],w=m(v[0],o[0]),x=1;x<l;x++)w=h(w,m(v[x],o[x]));y[g]=w}return new d({data:y,size:[u],datatype:p})},"SparseMatrix, any":function(t,e){var n=t._values,r=t._index,i=t._ptr,o=t._datatype;if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s=e._data,u=e._datatype,p=t._size[0],h=e._size[0],d=[],y=[],g=[],v=void 0,w=f,x=c,b=l,_=0;o&&u&&o===u&&"string"==typeof o&&(v=o,w=a.find(f,[v,v]),x=a.find(c,[v,v]),b=a.find(l,[v,v]),_=a.convert(0,v));var E=[],N=[];g[0]=0;for(var M=0;M<h;M++){var S=s[M];if(!b(S,_))for(var z=i[M],A=i[M+1],O=z;O<A;O++){var C=r[O];N[C]?E[C]=w(E[C],x(S,n[O])):(N[C]=!0,y.push(C),E[C]=x(S,n[O]))}}for(var T=y.length,P=0;P<T;P++){var k=y[P];d[P]=E[k]}return g[1]=y.length,new m({values:d,index:y,ptr:g,size:[p,1],datatype:v})}}),w=a("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(t,e){var n=t._data,r=t._size,i=t._datatype,o=e._data,s=e._size,u=e._datatype,l=r[0],p=r[1],h=s[1],m=void 0,y=f,g=c;i&&u&&i===u&&"string"==typeof i&&(m=i,y=a.find(f,[m,m]),g=a.find(c,[m,m]));for(var v=[],w=0;w<l;w++){var x=n[w];v[w]=[];for(var b=0;b<h;b++){for(var _=g(x[0],o[0][b]),E=1;E<p;E++)_=y(_,g(x[E],o[E][b]));v[w][b]=_}}return new d({data:v,size:[l,h],datatype:m})},"DenseMatrix, SparseMatrix":function(t,e){var n=t._data,r=t._size,i=t._datatype,o=e._values,s=e._index,u=e._ptr,p=e._size,h=e._datatype;if(!o)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d=r[0],y=p[1],g=void 0,v=f,w=c,x=l,b=0;i&&h&&i===h&&"string"==typeof i&&(g=i,v=a.find(f,[g,g]),w=a.find(c,[g,g]),x=a.find(l,[g,g]),b=a.convert(0,g));for(var _=[],E=[],N=[],M=new m({values:_,index:E,ptr:N,size:[d,y],datatype:g}),S=0;S<y;S++){N[S]=E.length;var z=u[S],A=u[S+1];if(A>z)for(var O=0,C=0;C<d;C++){for(var T=C+1,P=void 0,k=z;k<A;k++){var F=s[k];O!==T?(P=w(n[C][F],o[k]),O=T):P=v(P,w(n[C][F],o[k]))}O!==T||x(P,b)||(E.push(C),_.push(P))}}return N[y]=E.length,M},"SparseMatrix, DenseMatrix":function(t,e){var n=t._values,r=t._index,i=t._ptr,o=t._datatype;if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s=e._data,u=e._datatype,p=t._size[0],h=e._size[0],d=e._size[1],y=void 0,g=f,v=c,w=l,x=0;o&&u&&o===u&&"string"==typeof o&&(y=o,g=a.find(f,[y,y]),v=a.find(c,[y,y]),w=a.find(l,[y,y]),x=a.convert(0,y));for(var b=[],_=[],E=[],N=new m({values:b,index:_,ptr:E,size:[p,d],datatype:y}),M=[],S=[],z=0;z<d;z++){E[z]=_.length;for(var A=z+1,O=0;O<h;O++){var C=s[O][z];if(!w(C,x))for(var T=i[O],P=i[O+1],k=T;k<P;k++){var F=r[k];S[F]!==A?(S[F]=A,_.push(F),M[F]=v(C,n[k])):M[F]=g(M[F],v(C,n[k]))}}for(var D=E[z],R=_.length,j=D;j<R;j++){var I=_[j];b[j]=M[I]}}return E[d]=_.length,N},"SparseMatrix, SparseMatrix":function(t,e){var n=t._values,r=t._index,i=t._ptr,o=t._datatype,s=e._values,u=e._index,l=e._ptr,p=e._datatype,h=t._size[0],d=e._size[1],y=n&&s,g=void 0,v=f,w=c;o&&p&&o===p&&"string"==typeof o&&(g=o,v=a.find(f,[g,g]),w=a.find(c,[g,g]));for(var x=y?[]:void 0,b=[],_=[],E=new m({values:x,index:b,ptr:_,size:[h,d],datatype:g}),N=y?[]:void 0,M=[],S=void 0,z=void 0,A=void 0,O=void 0,C=void 0,T=void 0,P=void 0,k=void 0,F=0;F<d;F++){_[F]=b.length;var D=F+1;for(C=l[F],T=l[F+1],O=C;O<T;O++)if(k=u[O],y)for(z=i[k],A=i[k+1],S=z;S<A;S++)P=r[S],M[P]!==D?(M[P]=D,b.push(P),N[P]=w(s[O],n[S])):N[P]=v(N[P],w(s[O],n[S]));else for(z=i[k],A=i[k+1],S=z;S<A;S++)P=r[S],M[P]!==D&&(M[P]=D,b.push(P));if(y)for(var R=_[F],j=b.length,I=R;I<j;I++){var B=b[I];x[I]=N[B]}}return _[d]=b.length,E}});return y.toTex={2:"\\left(${args[0]}"+s.operators.multiply+"${args[1]}\\right)"},y}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"[WireFrameLandscape] "+t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,Error),e}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sawtoothWave=e.randomSawtoothWave=e.startupEnum=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(27));var i=e.startupEnum={ZERO:0,RANDOM:1};e.randomSawtoothWave=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-30,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.RANDOM;if(e<t)throw new r.default("amplitude max inferior to amplitude min");function a(){return Math.random()*(e-t)+t}return function(t,e){var r=null,s=null,u=null,f=null,c=null;return function(){return null==r&&(r=a(),o==i.RANDOM?s=a():o==i.ZERO&&(s=0),u=s>=r?-1:1,f=Date.now()),(u>0&&s>=r||u<0&&s<=r)&&(r=a(),u=s>=r?-1:1),c=Date.now()-f,s+=c*n*u,f=Date.now(),s}}},e.sawtoothWave=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-30,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.RANDOM;if(e<t)throw new r.default("amplitude max inferior to amplitude min");return function(r,a){var s=null,u=null,f=null,c=null,l=null;return function(){return null==s&&(s=Math.random()>.5?t:e,o==i.RANDOM?u=Math.random()*(e-t)+t:o==i.ZERO&&(u=0),f=u>=s?-1:1,c=Date.now()),(f>0&&u>=s||f<0&&u<=s)&&(f=u>=(s=s==t?e:t)?-1:1),l=Date.now()-c,u+=l*n*f,c=Date.now(),u}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Magnitude=e.Animation=e.create=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(30)),i=a(n(67)),o=a(n(28));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.create=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:42;return new r.default(t,e)},e.Animation=i,e.Magnitude=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=p(n(8)),a=p(n(10)),s=p(n(56)),u=p(n(65)),f=p(n(27)),c=p(n(66)),l=n(28);function p(t){return t&&t.__esModule?t:{default:t}}var h=o.default.create();h.import(a.default);var d=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:42;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===e)throw new f.default("no wrapper given");if("string"==typeof e){if(this.wrapper=document.getElementById(e),null==this.wrapper)throw new f.default("wrong wrapper ID")}else this.wrapper=e;this.framerate=n,this.canvas=document.createElement("CANVAS"),this.wrapper.appendChild(this.canvas),this.wrapper.style.overflow="hidden",this.context=this.canvas.getContext("2d"),this.setColors("white","blue"),this.setLineWidth(5),this.refreshParamsCanvas(),this.animations=[],this.amplitudeFunc=(0,l.randomSawtoothWave)(-30,30,.02,l.startupEnum.RANDOM),this.setPositionType("CENTER"),this.setDimensionsType("FILL",{x:5,y:5,multiplier:1.2}),this.rotation=new u.default(0,0,0),this.setSplittings(9);var r=this;c.default.create(this.wrapper,function(){r.getWidth(),r.getHeight();r.refreshParamsCanvas(),"CENTER"==r.positionType&&r.setPosition(),(r.dimensionsType="FILL")&&r.setDimensions()})}return i(t,[{key:"display",value:function(){this.context.fillRect(0,0,this.getWidth(),this.getHeight());for(var t=0;t<this.splittings.x;++t){this.context.beginPath(),this.context.moveTo(this.points[t][0].X,this.points[t][0].Y);for(var e=1;e<this.splittings.y;++e)this.context.lineTo(this.points[t][e].X,this.points[t][e].Y);this.context.stroke()}for(var n=0;n<this.splittings.y;++n){this.context.beginPath(),this.context.moveTo(this.points[0][n].X,this.points[0][n].Y);for(var r=1;r<this.splittings.x;++r)this.context.lineTo(this.points[r][n].X,this.points[r][n].Y);this.context.stroke()}}},{key:"start",value:function(){for(var t=["dimensions","position","splittings"],e=0;e<t.length;++e)if(null==this[t[e]])throw new f.default(t[e]+" not specified");this.createPoints();var n=this,r=0,i=void 0;setInterval(function(){0==r?(r=Date.now(),i=0):(i=Date.now()-r,r=Date.now()),n.animations.forEach(function(t){t(n,i)}),1==n.changed&&(n.processPoints(),n.display(),n.changed=0)},this.framerate)}},{key:"setPositionType",value:function(t){if("string"!=typeof t||"CENTER"!==t&&"STATIC"!==t)throw new f.default("wrong setPositionType parameters");if(this.positionType=t,"CENTER"===this.positionType){var e=this.getWidth(),n=this.getHeight();this.setPosition(e/2,n/2)}return this}},{key:"setPosition",value:function(t,e){if("CENTER"==this.positionType)this.position={x:this.getWidth()/2,y:this.getHeight()/2};else{if("number"!=typeof t||"number"!=typeof e)throw new f.default("wrong type parameters setPosition");this.position={x:t,y:e}}return this.positionMatrix=h.matrix([[this.position.x],[this.position.y],[0]]),this.changed=1,this}},{key:"setRotation",value:function(t,e,n){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof n)throw new f.default("wrong type parameters setRotation");return this.rotation=new u.default(t,e,n),this.changed=1,this}},{key:"addRotation",value:function(t,e,n){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof n)throw new f.default("wrong type parameters addRotation");this.rotation.add(t,e,n),this.changed=1}},{key:"setDimensionsType",value:function(t,e){if("string"!=typeof t||"FILL"!=t&&"STATIC"!=t)throw new f.default("wrong setDimensionsType parameters");if(this.dimensionsType=t,"FILL"===t){if("object"!==(void 0===e?"undefined":r(e))||"number"!=typeof e.x||"number"!=typeof e.y)throw new f.default("wrong setDimensionsType params");this.dimensions=e,this.setDimensions()}return this}},{key:"setDimensions",value:function(t,e){if("FILL"===this.dimensionsType){var n=this.getWidth(),r=this.getHeight(),i=(this.dimensions.x/n<=this.dimensions.y/r?n/this.dimensions.x:r/this.dimensions.y)*this.dimensions.multiplier;this.dimensions=Object.assign({},this.dimensions,{x:this.dimensions.x*i,y:this.dimensions.y*i})}else this.dimensions={x:t,y:e};return this.changed=1,this}},{key:"setAmplitudeFunction",value:function(t){return this.amplitudeFunc=t,this.changed=1,this}},{key:"setSplittings",value:function(t,e){var n=0,r=0;if("number"==typeof t&&"number"==typeof e)n=t,r=e;else{if("number"!=typeof t)throw new f.default("first argument not a number in setSquares");for(var i=[],o=0;o<t/2;++o)1!=o&&t%o==0&&i.push(o);i.length%2==0?(n=i[i.length/2],r=i[i.length/2-1]):n=r=i[Math.ceil(i.length/2)-1]}return this.splittings={x:n,y:r},this.changed=1,this}},{key:"getRawPosition",value:function(t,e){var n=this.splittings.x-1,r=this.splittings.y-1;return h.matrix([[(t-n/2)/n*this.dimensions.x],[(e-r/2)/r*this.dimensions.y],[0]])}},{key:"setBackgroundColor",value:function(t){return this.backgroundColor=t,this.changed=1,this}},{key:"setWireColor",value:function(t){return this.wireColor=t,this.changed=1,this}},{key:"setColors",value:function(t,e){return this.setBackgroundColor(t),this.setWireColor(e),this.changed=1,this}},{key:"setLineWidth",value:function(t){return this.lineWidth=t,this.changed=1,this}},{key:"processPoints",value:function(){var t=this;this.forEachPoint(function(e,n,r){e.setRawPosition(t.getRawPosition(n,r))}),this.forEachPoint(function(e){e.calculateAbsolutePosition(t.rotation,t.positionMatrix)})}},{key:"createPoints",value:function(){this.points=new Array(this.splittings.x);for(var t=0;t<this.splittings.x;++t){this.points[t]=new Array(this.splittings.y);for(var e=0;e<this.splittings.y;++e)this.points[t][e]=new s.default(t,e,this.amplitudeFunc)}}},{key:"forEachPoint",value:function(t){for(var e=0;e<this.splittings.x;++e)for(var n=0;n<this.splittings.y;++n)t(this.points[e][n],e,n)}},{key:"getWidth",value:function(){return this.wrapper.offsetWidth}},{key:"getHeight",value:function(){return this.wrapper.offsetHeight}},{key:"refreshParamsCanvas",value:function(){this.canvas.width=this.getWidth(),this.canvas.height=this.getHeight(),this.context.fillStyle=this.backgroundColor,this.context.strokeStyle=this.wireColor,this.context.lineWidth=this.lineWidth}},{key:"addAnimation",value:function(t){return this.animations.push(t),this}}]),t}();e.default=d},function(t,e,n){"use strict";n(32);var r=n(0).isFactory,i=n(33),o=n(15),a=n(37),s=n(39);e.create=function(t){if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var e=[],n=[],u=o.mixin({});u.type={},u.expression={transform:{},mathWithTransform:{}},u.typed=i.create(u.type);var f={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function c(t){if(!r(t))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var i=e.indexOf(t),o=void 0;return-1===i?(o=!0===t.math?t.factory(u.type,f,c,u.typed,u):t.factory(u.type,f,c,u.typed),e.push(t),n.push(o)):o=n[i],o}return u.import=c(a),u.config=c(s),u.expression.mathWithTransform.config=u.config,t&&u.config(t),u}},function(t,e,n){"use strict";Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isNaN=Number.isNaN||function(t){return t!=t}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(34),o=n(1).digits,a=n(9),s=n(35),u=function(){return u=i.create,i};e.create=function(t){t.isNumber=function(t){return"number"==typeof t},t.isComplex=function(e){return t.Complex&&e instanceof t.Complex||!1},t.isBigNumber=a,t.isFraction=function(e){return t.Fraction&&e instanceof t.Fraction||!1},t.isUnit=function(t){return t&&t.constructor.prototype.isUnit||!1},t.isString=function(t){return"string"==typeof t},t.isArray=Array.isArray,t.isMatrix=s,t.isDenseMatrix=function(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix||!1},t.isSparseMatrix=function(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix||!1},t.isRange=function(t){return t&&t.constructor.prototype.isRange||!1},t.isIndex=function(t){return t&&t.constructor.prototype.isIndex||!1},t.isBoolean=function(t){return"boolean"==typeof t},t.isResultSet=function(t){return t&&t.constructor.prototype.isResultSet||!1},t.isHelp=function(t){return t&&t.constructor.prototype.isHelp||!1},t.isFunction=function(t){return"function"==typeof t},t.isDate=function(t){return t instanceof Date},t.isRegExp=function(t){return t instanceof RegExp},t.isObject=function(e){return"object"===(void 0===e?"undefined":r(e))&&e.constructor===Object&&!t.isComplex(e)&&!t.isFraction(e)},t.isNull=function(t){return null===t},t.isUndefined=function(t){return void 0===t},t.isAccessorNode=function(t){return t&&t.isAccessorNode&&t.constructor.prototype.isNode||!1},t.isArrayNode=function(t){return t&&t.isArrayNode&&t.constructor.prototype.isNode||!1},t.isAssignmentNode=function(t){return t&&t.isAssignmentNode&&t.constructor.prototype.isNode||!1},t.isBlockNode=function(t){return t&&t.isBlockNode&&t.constructor.prototype.isNode||!1},t.isConditionalNode=function(t){return t&&t.isConditionalNode&&t.constructor.prototype.isNode||!1},t.isConstantNode=function(t){return t&&t.isConstantNode&&t.constructor.prototype.isNode||!1},t.isFunctionAssignmentNode=function(t){return t&&t.isFunctionAssignmentNode&&t.constructor.prototype.isNode||!1},t.isFunctionNode=function(t){return t&&t.isFunctionNode&&t.constructor.prototype.isNode||!1},t.isIndexNode=function(t){return t&&t.isIndexNode&&t.constructor.prototype.isNode||!1},t.isNode=function(t){return t&&t.isNode&&t.constructor.prototype.isNode||!1},t.isObjectNode=function(t){return t&&t.isObjectNode&&t.constructor.prototype.isNode||!1},t.isOperatorNode=function(t){return t&&t.isOperatorNode&&t.constructor.prototype.isNode||!1},t.isParenthesisNode=function(t){return t&&t.isParenthesisNode&&t.constructor.prototype.isNode||!1},t.isRangeNode=function(t){return t&&t.isRangeNode&&t.constructor.prototype.isNode||!1},t.isSymbolNode=function(t){return t&&t.isSymbolNode&&t.constructor.prototype.isNode||!1},t.isChain=function(t){return t&&t.constructor.prototype.isChain||!1};var e=u();return e.types=[{name:"number",test:t.isNumber},{name:"Complex",test:t.isComplex},{name:"BigNumber",test:t.isBigNumber},{name:"Fraction",test:t.isFraction},{name:"Unit",test:t.isUnit},{name:"string",test:t.isString},{name:"Array",test:t.isArray},{name:"Matrix",test:t.isMatrix},{name:"DenseMatrix",test:t.isDenseMatrix},{name:"SparseMatrix",test:t.isSparseMatrix},{name:"Range",test:t.isRange},{name:"Index",test:t.isIndex},{name:"boolean",test:t.isBoolean},{name:"ResultSet",test:t.isResultSet},{name:"Help",test:t.isHelp},{name:"function",test:t.isFunction},{name:"Date",test:t.isDate},{name:"RegExp",test:t.isRegExp},{name:"null",test:t.isNull},{name:"undefined",test:t.isUndefined},{name:"OperatorNode",test:t.isOperatorNode},{name:"ConstantNode",test:t.isConstantNode},{name:"SymbolNode",test:t.isSymbolNode},{name:"ParenthesisNode",test:t.isParenthesisNode},{name:"FunctionNode",test:t.isFunctionNode},{name:"FunctionAssignmentNode",test:t.isFunctionAssignmentNode},{name:"ArrayNode",test:t.isArrayNode},{name:"AssignmentNode",test:t.isAssignmentNode},{name:"BlockNode",test:t.isBlockNode},{name:"ConditionalNode",test:t.isConditionalNode},{name:"IndexNode",test:t.isIndexNode},{name:"RangeNode",test:t.isRangeNode},{name:"Node",test:t.isNode},{name:"Object",test:t.isObject}],e.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(o(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t.BigNumber(e)}},{from:"number",to:"Complex",convert:function(e){return new t.Complex(e,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(e){return new t.Complex(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return new t.Complex(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){if(new t.Fraction(e).valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return new t.Fraction(e)}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(e){try{return new t.BigNumber(e)}catch(t){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){try{return new t.Fraction(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){try{return new t.Complex(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(e){return new t.BigNumber(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return new t.Fraction(+e)}},{from:"boolean",to:"string",convert:function(t){return+t}},{from:"Array",to:"Matrix",convert:function(e){return new t.DenseMatrix(e)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],e}},function(t,e,n){"use strict";var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){function t(){return!0}function e(){return!1}function n(){}return function r(){var i=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==typeof t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],o={name:"any",test:t},a=[],s=[],u={types:i,conversions:s,ignore:a};function f(t){var e=B(u.types,function(e){return e.name===t});if(e)return e;if("any"===t)return o;var n=B(u.types,function(e){return e.name.toLowerCase()===t.toLowerCase()});throw new TypeError('Unknown type "'+t+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function c(t){return t===o?999:u.types.indexOf(t)}function l(t){var e=B(u.types,function(e){return e.test(t)});if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function p(t){return t.map(function(t){var e=t.types.map(x);return(t.restParam?"...":"")+e.join("|")}).join(",")}function h(t,e){var n=0===t.indexOf("..."),r=n?t.length>3?t.slice(3):"any":t,i=r.split("|").map(T).filter(P).filter(C),o=function(t,e){var n={};return t.forEach(function(t){-1!==e.indexOf(t.from)||-1===e.indexOf(t.to)||n[t.from]||(n[t.from]=t)}),Object.keys(n).map(function(t){return n[t]})}(e,i),a=i.map(function(t){var e=f(t);return{name:t,typeIndex:c(e),test:e.test,conversion:null,conversionIndex:-1}}),s=o.map(function(t){var n=f(t.from);return{name:t.from,typeIndex:c(n),test:n.test,conversion:t,conversionIndex:e.indexOf(t)}});return{types:a.concat(s),restParam:n}}function d(t){var e=D(t);return!!e&&e.restParam}function m(t){return t.types.some(function(t){return null!=t.conversion})}function y(e){if(e&&0!==e.types.length){if(1===e.types.length)return f(e.types[0].name).test;if(2===e.types.length){var n=f(e.types[0].name).test,r=f(e.types[1].name).test;return function(t){return n(t)||r(t)}}var i=e.types.map(function(t){return f(t.name).test});return function(t){for(var e=0;e<i.length;e++)if(i[e](t))return!0;return!1}}return t}function g(t){var e,n,r;if(d(t)){var i=(e=function(t){return t.slice(0,t.length-1)}(t).map(y)).length,o=y(D(t));return function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return function(t){for(var e=i;e<t.length;e++)if(!o(t[e]))return!1;return!0}(t)&&t.length>=i+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(n=y(t[0]),function(t){return n(t[0])&&1===t.length}):2===t.length?(n=y(t[0]),r=y(t[1]),function(t){return n(t[0])&&r(t[1])&&2===t.length}):(e=t.map(y),function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return t.length===e.length})}function v(t,e){return e<t.params.length?t.params[e]:d(t.params)?D(t.params):null}function w(t,e,n){var r=v(t,e),i=r?n?r.types.filter(b):r.types:[];return i.map(x)}function x(t){return t.name}function b(t){return null===t.conversion||void 0===t.conversion}function _(t,e){var n=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return Object.keys(e)}(q(t,function(t){return w(t,e,!1)}));return-1!==n.indexOf("any")?["any"]:n}function E(t){for(var e=999,n=0;n<t.types.length;n++)b(t.types[n])&&(e=Math.min(e,t.types[n].typeIndex));return e}function N(t){for(var e=999,n=0;n<t.types.length;n++)b(t.types[n])||(e=Math.min(e,t.types[n].conversionIndex));return e}function M(t,e){var n;return 0!=(n=t.restParam-e.restParam)?n:0!=(n=m(t)-m(e))?n:0!=(n=E(t)-E(e))?n:N(t)-N(e)}function S(t,e){var n,r,i=Math.min(t.params.length,e.params.length);if(0!=(r=t.params.some(m)-e.params.some(m)))return r;for(n=0;n<i;n++)if(0!=(r=m(t.params[n])-m(e.params[n])))return r;for(n=0;n<i;n++)if(0!==(r=M(t.params[n],e.params[n])))return r;return t.params.length-e.params.length}function z(t){var e,n,r,i,o=[],a=[];switch(t.types.forEach(function(t){t.conversion&&(o.push(f(t.conversion.from).test),a.push(t.conversion.convert))}),a.length){case 0:return function(t){return t};case 1:return e=o[0],r=a[0],function(t){return e(t)?r(t):t};case 2:return e=o[0],n=o[1],r=a[0],i=a[1],function(t){return e(t)?r(t):n(t)?i(t):t};default:return function(t){for(var e=0;e<a.length;e++)if(o[e](t))return a[e](t);return t}}}function A(t,e){return function t(n,r,i){if(r<n.length){var o,a=n[r],s=e?a.types.filter(b):a.types;if(a.restParam){var u=s.filter(b);o=u.length<s.length?[u,s]:[s]}else o=s.map(function(t){return[t]});return q(o,function(e){return t(n,r+1,i.concat([e]))})}var f=i.map(function(t,e){return{types:t,restParam:e===n.length-1&&d(n)}});return[f]}(t,0,[])}function O(t,r){if(0===Object.keys(r).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(r).map(function(t){return function(t,e,n){var r=[];return""!==t.trim()&&(r=t.split(",").map(T).map(function(t,e,r){var i=h(t,n);if(i.restParam&&e!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return i})),r.some(F)?null:{params:r,fn:e}}(t,r[t],u.conversions)}).filter(k).forEach(function(t){var e=B(i,function(e){return function(t,e){for(var n=Math.max(t.params.length,e.params.length),r=0;r<n;r++){var i=w(t,r,!0),o=w(e,r,!0);if(!I(i,o))return!1}var a=t.params.length,s=e.params.length,u=d(t.params),f=d(e.params);return u?f?a===s:s>=a:f?a>=s:a===s}(e,t)});if(e)throw new TypeError('Conflicting signatures "'+p(e.params)+'" and "'+p(t.params)+'".');i.push(t)});var o=q(i,function(t){var e=t?A(t.params,!1):[];return e.map(function(e){return{params:e,fn:t.fn}})}).filter(k);o.sort(S);var a=o[0]&&o[0].params.length<=2&&!d(o[0].params),s=o[1]&&o[1].params.length<=2&&!d(o[1].params),f=o[2]&&o[2].params.length<=2&&!d(o[2].params),c=o[3]&&o[3].params.length<=2&&!d(o[3].params),x=o[4]&&o[4].params.length<=2&&!d(o[4].params),b=o[5]&&o[5].params.length<=2&&!d(o[5].params),E=a&&s&&f&&c&&x&&b,N=o.map(function(t){return g(t.params)}),M=a?y(o[0].params[0]):e,O=s?y(o[1].params[0]):e,C=f?y(o[2].params[0]):e,P=c?y(o[3].params[0]):e,D=x?y(o[4].params[0]):e,j=b?y(o[5].params[0]):e,L=a?y(o[0].params[1]):e,U=s?y(o[1].params[1]):e,W=f?y(o[2].params[1]):e,H=c?y(o[3].params[1]):e,Z=x?y(o[4].params[1]):e,$=b?y(o[5].params[1]):e,J=o.map(function(t){return function(t,e){var n=e;if(t.some(m)){var r=d(t),i=t.map(z);n=function(){for(var t=[],n=r?arguments.length-1:arguments.length,o=0;o<n;o++)t[o]=i[o](arguments[o]);return r&&(t[n]=arguments[n].map(i[n])),e.apply(null,t)}}var o=n;if(d(t)){var a=t.length-1;o=function(){return n.apply(null,R(arguments,0,a).concat([R(arguments,a)]))}}return o}(t.params,t.fn)}),V=a?J[0]:n,X=s?J[1]:n,Y=f?J[2]:n,G=c?J[3]:n,K=x?J[4]:n,Q=b?J[5]:n,tt=a?o[0].params.length:-1,et=s?o[1].params.length:-1,nt=f?o[2].params.length:-1,rt=c?o[3].params.length:-1,it=x?o[4].params.length:-1,ot=b?o[5].params.length:-1,at=E?6:0,st=o.length,ut=function(){for(var e=at;e<st;e++)if(N[e](arguments))return J[e].apply(null,arguments);throw function(t,e,n){var r,i,o,a=t||"unnamed",s=n;for(o=0;o<e.length;o++){var u=s.filter(function(t){var n=y(v(t,o));return(o<t.params.length||d(t.params))&&n(e[o])});if(0===u.length){if((i=_(s,o)).length>0){var f=l(e[o]);return(r=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+f+", index: "+o+")")).data={category:"wrongType",fn:a,index:o,actual:f,expected:i},r}}else s=u}var c=s.map(function(t){return d(t.params)?1/0:t.params.length});if(e.length<Math.min.apply(null,c))return i=_(s,o),(r=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:a,index:e.length,expected:i},r;var p=Math.max.apply(null,c);return e.length>p?((r=new TypeError("Too many arguments in function "+a+" (expected: "+p+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:a,index:e.length,expectedLength:p},r):((r=new TypeError('Arguments of type "'+e.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:e.map(l)},r)}(t,arguments,o)},ft=function(t,e){return arguments.length===tt&&M(t)&&L(e)?V.apply(null,arguments):arguments.length===et&&O(t)&&U(e)?X.apply(null,arguments):arguments.length===nt&&C(t)&&W(e)?Y.apply(null,arguments):arguments.length===rt&&P(t)&&H(e)?G.apply(null,arguments):arguments.length===it&&D(t)&&Z(e)?K.apply(null,arguments):arguments.length===ot&&j(t)&&$(e)?Q.apply(null,arguments):ut.apply(null,arguments)};try{Object.defineProperty(ft,"name",{value:t})}catch(t){}return ft.signatures=function(t){var e={};return t.forEach(function(t){t.params.some(m)||A(t.params,!0).forEach(function(n){e[p(n)]=t.fn})}),e}(o),ft}function C(t){return-1===u.ignore.indexOf(t)}function T(t){return t.trim()}function P(t){return!!t}function k(t){return null!==t}function F(t){return 0===t.types.length}function D(t){return t[t.length-1]}function R(t,e,n){return Array.prototype.slice.call(t,e,n)}function j(t,e){return-1!==t.indexOf(e)}function I(t,e){for(var n=0;n<t.length;n++)if(j(e,t[n]))return!0;return!1}function B(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}function q(t,e){return Array.prototype.concat.apply([],t.map(e))}function L(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(r.signatures&&""!==r.name)if(""===e)e=r.name;else if(e!==r.name){var i=new Error("Function names do not match (expected: "+e+", actual: "+r.name+")");throw i.data={actual:r.name,expected:e},i}}return e}return(u=O("typed",{"string, Object":O,Object:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);var r=L(e);return O(r,t)},"...Function":function(t){for(var e,n=L(t),r={},i=0;i<t.length;i++){var o=t[i];if("object"!=typeof o.signatures)throw(e=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},e;for(var a in o.signatures)if(o.signatures.hasOwnProperty(a))if(r.hasOwnProperty(a)){if(o.signatures[a]!==r[a])throw(e=new Error('Signature "'+a+'" is defined twice')).data={signature:a},e}else r[a]=o.signatures[a]}return O(n,r)}})).create=r,u.types=i,u.conversions=s,u.ignore=a,u.convert=function(t,e){var n=l(t);if(e===n)return t;for(var r=0;r<u.conversions.length;r++){var i=u.conversions[r];if(i.from===n&&i.to===e)return i.convert(t)}throw new Error("Cannot convert from "+n+" to "+e)},u.find=function(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof e){n=e.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");n=e}var i=n.join(","),o=t.signatures[i];if(o)return o;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+n.join(", ")+"))")},u.addType=function(t,e){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==e)for(var n=0;n<u.types.length;n++)if("Object"===u.types[n].name)return void u.types.splice(n,0,t);u.types.push(t)},u.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(t)},u}()})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";t.exports=function(t){return t&&t.constructor.prototype.isMatrix||!1}},function(t,e){function n(){}n.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function i(){r.off(t,i),e.apply(n,arguments)}return i._=e,this.on(t,i,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,a=r.length;o<a;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}},t.exports=n},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(0).lazy,o=n(0).isFactory,a=n(0).traverse,s=n(38);e.math=!0,e.name="import",e.factory=function(t,e,n,u,f){function c(t,e,n){if(n.wrap&&"function"==typeof e&&(e=function(t){var e=function(){for(var e=[],n=0,r=arguments.length;n<r;n++){var i=arguments[n];e[n]=i&&i.valueOf()}return t.apply(f,e)};return t.transform&&(e.transform=t.transform),e}(e)),m(f[t])&&m(e))return e=n.override?u(t,e.signatures):u(f[t],e),f[t]=e,l(t,e),void f.emit("import",t,function(){return e});if(void 0===f[t]||n.override)return f[t]=e,l(t,e),void f.emit("import",t,function(){return e});if(!n.silent)throw new Error('Cannot import "'+t+'": already exists')}function l(t,e){e&&"function"==typeof e.transform?(f.expression.transform[t]=e.transform,y(t)&&(f.expression.mathWithTransform[t]=e.transform)):(delete f.expression.transform[t],y(t)&&(f.expression.mathWithTransform[t]=e))}function p(t){delete f.expression.transform[t],y(t)?f.expression.mathWithTransform[t]=f[t]:delete f.expression.mathWithTransform[t]}function h(t,e){if("string"==typeof t.name){var r=t.name,o=r in f.expression.transform,s=t.path?a(f,t.path):f,c=s.hasOwnProperty(r)?s[r]:void 0,l=function(){var i=n(t);if(i&&"function"==typeof i.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(m(c)&&m(i))return e.override||(i=u(c,i)),i;if(void 0===c||e.override)return i;if(!e.silent)throw new Error('Cannot import "'+r+'": already exists')};!1!==t.lazy?(i(s,r,l),o?p(r):("expression.transform"===t.path||g(t))&&i(f.expression.mathWithTransform,r,l)):(s[r]=l(),o?p(r):("expression.transform"===t.path||g(t))&&(f.expression.mathWithTransform[r]=l())),f.emit("import",r,l,t.path)}else n(t)}function d(e){return"function"==typeof e||"number"==typeof e||"string"==typeof e||"boolean"==typeof e||null===e||e&&t.isUnit(e)||e&&t.isComplex(e)||e&&t.isBigNumber(e)||e&&t.isFraction(e)||e&&t.isMatrix(e)||e&&Array.isArray(e)}function m(t){return"function"==typeof t&&"object"===r(t.signatures)}function y(t){return!v.hasOwnProperty(t)}function g(t){return void 0===t.path&&!v.hasOwnProperty(t.name)}var v={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function t(e,n){var i=arguments.length;if(1!==i&&2!==i)throw new s("import",i,1,2);if(n||(n={}),o(e))h(e,n);else if(Array.isArray(e))e.forEach(function(e){t(e,n)});else if("object"===(void 0===e?"undefined":r(e))){for(var a in e)if(e.hasOwnProperty(a)){var u=e[a];d(u)?c(a,u,n):o(e)?h(e,n):t(u,n)}}else if(!n.silent)throw new TypeError("Factory, Object, or Array expected")}},e.lazy=!0},function(t,e,n){"use strict";function r(t,e,n,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=n,this.max=i,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+n+(void 0!==i&&null!==i?"-"+i:"")+" expected)",this.stack=(new Error).stack}r.prototype=new Error,r.prototype.constructor=Error,r.prototype.name="ArgumentsError",r.prototype.isArgumentsError=!0,t.exports=r},function(t,e,n){"use strict";var r=n(0);function i(t,e,n){if(void 0!==t[e]&&!function(t,e){return-1!==t.indexOf(e)}(n,t[e])){var r=function(t,e){return t.map(function(t){return t.toLowerCase()}).indexOf(e.toLowerCase())}(n,t[e]);-1!==r?(console.warn('Warning: Wrong casing for configuration option "'+e+'", should be "'+n[r]+'" instead of "'+t[e]+'".'),t[e]=n[r]):console.warn('Warning: Unknown value "'+t[e]+'" for configuration option "'+e+'". Available options: '+n.map(JSON.stringify).join(", ")+".")}}e.name="config",e.math=!0,e.factory=function(t,e,n,o,a){var s=["Matrix","Array"],u=["number","BigNumber","Fraction"];function f(t){if(t){var n=r.map(e,r.clone);i(t,"matrix",s),i(t,"number",u),r.deepExtend(e,t);var o=r.map(e,r.clone),f=r.map(t,r.clone);return a.emit("config",o,n,f),o}return r.map(e,r.clone)}return f.MATRIX=s,f.NUMBER=u,f}},function(t,e,n){"use strict";var r=n(0);e.format=function(t,n){if("function"==typeof n)return n(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var i="auto",o=void 0;switch(void 0!==n&&(n.notation&&(i=n.notation),"number"==typeof n?o=n:n.precision&&(o=n.precision)),i){case"fixed":return e.toFixed(t,o);case"exponential":return e.toExponential(t,o);case"auto":if(n&&n.exponential&&(void 0!==n.exponential.lower||void 0!==n.exponential.upper)){var a=r.map(n,function(t){return t});return a.exponential=void 0,void 0!==n.exponential.lower&&(a.lowerExp=Math.round(Math.log(n.exponential.lower)/Math.LN10)),void 0!==n.exponential.upper&&(a.upperExp=Math.round(Math.log(n.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(n)+" with "+JSON.stringify(a)),e.format(t,a)}var s=n&&void 0!==n.lowerExp?n.lowerExp:-3,u=n&&void 0!==n.upperExp?n.upperExp:5;if(t.isZero())return"0";var f=t.logarithm();return(f.gte(s)&&f.lt(u)?t.toSignificantDigits(o).toFixed():e.toExponential(t,o)).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}},e.toExponential=function(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()},e.toFixed=function(t,e){return t.toFixed(e)}},function(t,e,n){"use strict";function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="IndexError",r.prototype.isIndexError=!0,t.exports=r},function(t,e,n){"use strict";e.isBoolean=function(t){return"boolean"==typeof t}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.memoize=function(t,e){return function n(){"object"!==r(n.cache)&&(n.cache={});for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=e?e(i):JSON.stringify(i);return a in n.cache||(n.cache[a]=t.apply(t,i)),n.cache[a]}},e.maxArgumentCount=function(t){return Object.keys(t.signatures||{}).reduce(function(t,e){var n=(e.match(/,/g)||[]).length+1;return Math.max(t,n)},-1)},e.callWithRightArgumentCount=function(t,e,n){return Object.keys(t.signatures||{}).reduce(function(t,e){var n=(e.match(/,/g)||[]).length+1;return Math.max(t,n)},-1)}},function(t,e,n){"use strict";var r=n(5),i=n(2),o=r.array,a=r.object,s=r.string,u=r.number,f=Array.isArray,c=u.isNumber,l=u.isInteger,p=s.isString,h=o.validateIndex;e.name="SparseMatrix",e.path="type",e.factory=function(t,e,d,m){var y=d(n(11)),g=d(n(4));function v(e,n){if(!(this instanceof v))throw new SyntaxError("Constructor must be called with the new operator");if(n&&!p(n))throw new Error("Invalid datatype: "+n);if(t.isMatrix(e))!function(t,e,n){"SparseMatrix"===e.type?(t._values=e._values?a.clone(e._values):void 0,t._index=a.clone(e._index),t._ptr=a.clone(e._ptr),t._size=a.clone(e._size),t._datatype=n||e._datatype):w(t,e.valueOf(),n||e._datatype)}(this,e,n);else if(e&&f(e.index)&&f(e.ptr)&&f(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=n||e.datatype;else if(f(e))w(this,e,n);else{if(e)throw new TypeError("Unsupported type of data ("+r.types.type(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=n}}function w(t,e,n){t._values=[],t._index=[],t._ptr=[],t._datatype=n;var r=e.length,i=0,o=g,a=0;if(p(n)&&(o=m.find(g,[n,n])||g,a=m.convert(0,n)),r>0){var s=0;do{t._ptr.push(t._index.length);for(var u=0;u<r;u++){var c=e[u];if(f(c)){if(0===s&&i<c.length&&(i=c.length),s<c.length){var l=c[s];o(l,a)||(t._values.push(l),t._index.push(u))}}else 0===s&&i<1&&(i=1),o(c,a)||(t._values.push(c),t._index.push(u))}s++}while(s<i)}t._ptr.push(t._index.length),t._size=[r,i]}function x(t,e,n,r){if(n-e==0)return n;for(var i=e;i<n;i++)if(r[i]===t)return i;return e}function b(t,e,n,r,i,o,a){i.splice(t,0,r),o.splice(t,0,e);for(var s=n+1;s<a.length;s++)a[s]++}function _(t,e,n,r){var i=r||0,o=g,a=0;p(t._datatype)&&(o=m.find(g,[t._datatype,t._datatype])||g,a=m.convert(0,t._datatype),i=m.convert(i,t._datatype));var s=!o(i,a),u=t._size[0],f=t._size[1],c=void 0,l=void 0,h=void 0;if(n>f){for(l=f;l<n;l++)if(t._ptr[l]=t._values.length,s)for(c=0;c<u;c++)t._values.push(i),t._index.push(c);t._ptr[n]=t._values.length}else n<f&&(t._ptr.splice(n+1,f-n),t._values.splice(t._ptr[n],t._values.length),t._index.splice(t._ptr[n],t._index.length));if(f=n,e>u){if(s){var d=0;for(l=0;l<f;l++){t._ptr[l]=t._ptr[l]+d,h=t._ptr[l+1]+d;var y=0;for(c=u;c<e;c++,y++)t._values.splice(h+y,0,i),t._index.splice(h+y,0,c),d++}t._ptr[f]=t._values.length}}else if(e<u){var v=0;for(l=0;l<f;l++){t._ptr[l]=t._ptr[l]-v;var w=t._ptr[l],x=t._ptr[l+1]-v;for(h=w;h<x;h++)(c=t._index[h])>e-1&&(t._values.splice(h,1),t._index.splice(h,1),v++)}t._ptr[l]=t._values.length}return t._size[0]=e,t._size[1]=n,t}function E(t,e,n,r,i){var o=r[0],s=r[1],u=[],f=void 0,c=void 0;for(f=0;f<o;f++)for(u[f]=[],c=0;c<s;c++)u[f][c]=0;for(c=0;c<s;c++)for(var l=n[c],p=n[c+1],h=l;h<p;h++)u[f=e[h]][c]=t?i?a.clone(t[h]):t[h]:1;return u}return v.prototype=new y,v.prototype.type="SparseMatrix",v.prototype.isSparseMatrix=!0,v.prototype.storage=function(){return"sparse"},v.prototype.datatype=function(){return this._datatype},v.prototype.create=function(t,e){return new v(t,e)},v.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},v.prototype.subset=function(e,n,r){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(e,n){if(!t.isIndex(n))throw new TypeError("Invalid index");if(n.isScalar())return e.get(n.min());var r=n.size();if(r.length!==e._size.length)throw new i(r.length,e._size.length);var o=void 0,a=void 0,s=void 0,u=void 0,f=n.min(),c=n.max();for(o=0,a=e._size.length;o<a;o++)h(f[o],e._size[o]),h(c[o],e._size[o]);var l=e._values,p=e._index,d=e._ptr,m=n.dimension(0),y=n.dimension(1),g=[],w=[];m.forEach(function(t,e){w[t]=e[0],g[t]=!0});var x=l?[]:void 0,b=[],_=[];return y.forEach(function(t){for(_.push(b.length),s=d[t],u=d[t+1];s<u;s++)o=p[s],!0===g[o]&&(b.push(w[o]),x&&x.push(l[s]))}),_.push(b.length),new v({values:x,index:b,ptr:_,size:r,datatype:e._datatype})}(this,e);case 2:case 3:return function(e,n,r,s){if(!n||!0!==n.isIndex)throw new TypeError("Invalid index");var u=n.size(),f=n.isScalar(),c=void 0;if(t.isMatrix(r)?(c=r.size(),r=r.toArray()):c=o.size(r),f){if(0!==c.length)throw new TypeError("Scalar expected");e.set(n.min(),r,s)}else{if(1!==u.length&&2!==u.length)throw new i(u.length,e._size.length,"<");if(c.length<u.length){for(var l=0,p=0;1===u[l]&&1===c[l];)l++;for(;1===u[l];)p++,l++;r=o.unsqueeze(r,u.length,p,c)}if(!a.deepEqual(u,c))throw new i(u,c,">");for(var h=n.min()[0],d=n.min()[1],m=c[0],y=c[1],g=0;g<m;g++)for(var v=0;v<y;v++){var w=r[g][v];e.set([g+h,v+d],w,s)}}return e}(this,e,n,r);default:throw new SyntaxError("Wrong number of arguments")}},v.prototype.get=function(t){if(!f(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new i(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],n=t[1];h(e,this._size[0]),h(n,this._size[1]);var r=x(e,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===e?this._values[r]:0},v.prototype.set=function(t,e,n){if(!f(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new i(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var r=t[0],o=t[1],a=this._size[0],s=this._size[1],u=g,c=0;p(this._datatype)&&(u=m.find(g,[this._datatype,this._datatype])||g,c=m.convert(0,this._datatype)),(r>a-1||o>s-1)&&(_(this,Math.max(r+1,a),Math.max(o+1,s),n),a=this._size[0],s=this._size[1]),h(r,a),h(o,s);var l=x(r,this._ptr[o],this._ptr[o+1],this._index);return l<this._ptr[o+1]&&this._index[l]===r?u(e,c)?function(t,e,n,r,i){n.splice(t,1),r.splice(t,1);for(var o=e+1;o<i.length;o++)i[o]--}(l,o,this._values,this._index,this._ptr):this._values[l]=e:b(l,r,o,e,this._values,this._index,this._ptr),this},v.prototype.resize=function(t,e,n){if(!f(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");return t.forEach(function(e){if(!u.isNumber(e)||!u.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+s.format(t)+")")}),_(n?this.clone():this,t[0],t[1],e)},v.prototype.reshape=function(t,e){if(!f(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach(function(e){if(!u.isNumber(e)||!u.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+s.format(t)+")")}),this._size[0]*this._size[1]!=t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var n=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return n;for(var r=[],i=0;i<n._ptr.length;i++)for(var o=0;o<n._ptr[i+1]-n._ptr[i];o++)r.push(i);for(var a=n._values.slice(),c=n._index.slice(),l=0;l<n._index.length;l++){var p=c[l],h=r[l],d=p*n._size[1]+h;r[l]=d%t[1],c[l]=Math.floor(d/t[1])}n._values.length=0,n._index.length=0,n._ptr.length=t[1]+1,n._size=t.slice();for(var m=0;m<n._ptr.length;m++)n._ptr[m]=0;for(var y=0;y<a.length;y++){var g=c[y],v=r[y],w=a[y];b(x(g,n._ptr[v],n._ptr[v+1],n._index),g,v,w,n._values,n._index,n._ptr)}return n},v.prototype.clone=function(){return new v({values:this._values?a.clone(this._values):void 0,index:a.clone(this._index),ptr:a.clone(this._ptr),size:a.clone(this._size),datatype:this._datatype})},v.prototype.size=function(){return this._size.slice(0)},v.prototype.map=function(t,e){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var n=this;return function(t,e,n,r,i,o,a){var s=[],u=[],f=[],c=g,l=0;p(t._datatype)&&(c=m.find(g,[t._datatype,t._datatype])||g,l=m.convert(0,t._datatype));for(var h=function(t,e,n){t=o(t,e,n),c(t,l)||(s.push(t),u.push(e))},d=r;d<=i;d++){f.push(s.length);for(var y=t._ptr[d],w=t._ptr[d+1],x=e,b=y;b<w;b++){var _=t._index[b];if(_>=e&&_<=n){if(!a)for(var E=x;E<_;E++)h(0,E-e,d-r);h(t._values[b],_-e,d-r)}x=_+1}if(!a)for(var N=x;N<=n;N++)h(0,N-e,d-r)}return f.push(s.length),new v({values:s,index:u,ptr:f,size:[n-e+1,i-r+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,function(e,r,i){return t(e,[r,i],n)},e)},v.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],r=this._size[1],i=0;i<r;i++){for(var o=this._ptr[i],a=this._ptr[i+1],s=0,u=o;u<a;u++){var f=this._index[u];if(!e)for(var c=s;c<f;c++)t(0,[c,i],this);t(this._values[u],[f,i],this),s=f+1}if(!e)for(var l=s;l<n;l++)t(0,[l,i],this)}},v.prototype.toArray=function(){return E(this._values,this._index,this._ptr,this._size,!0)},v.prototype.valueOf=function(){return E(this._values,this._index,this._ptr,this._size,!1)},v.prototype.format=function(t){for(var e=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+s.format(e,t)+" x "+s.format(n,t)+"] density: "+s.format(r,t)+"\n",o=0;o<n;o++)for(var a=this._ptr[o],u=this._ptr[o+1],f=a;f<u;f++){var c=this._index[f];i+="\n    ("+s.format(c,t)+", "+s.format(o,t)+") ==> "+(this._values?s.format(this._values[f],t):"X")}return i},v.prototype.toString=function(){return s.format(this.toArray())},v.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},v.prototype.diagonal=function(e){if(e){if(t.isBigNumber(e)&&(e=e.toNumber()),!c(e)||!l(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var n=e>0?e:0,r=e<0?-e:0,i=this._size[0],o=this._size[1],a=Math.min(i-r,o-n),s=[],u=[],f=[];f[0]=0;for(var p=n;p<o&&s.length<a;p++)for(var h=this._ptr[p],d=this._ptr[p+1],m=h;m<d;m++){var y=this._index[m];if(y===p-n+r){s.push(this._values[m]),u[s.length-1]=y-r;break}}return f.push(s.length),new v({values:s,index:u,ptr:f,size:[a,1]})},v.fromJSON=function(t){return new v(t)},v.diagonal=function(e,n,r,i,o){if(!f(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(t.isBigNumber(e)&&(e=e.toNumber()),!c(e)||!l(e)||e<1)throw new Error("Size values must be positive integers");return e}),r){if(t.isBigNumber(r)&&(r=r.toNumber()),!c(r)||!l(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var a=g,s=0;p(o)&&(a=m.find(g,[o,o])||g,s=m.convert(0,o));var u=r>0?r:0,h=r<0?-r:0,d=e[0],y=e[1],w=Math.min(d-h,y-u),x=void 0;if(f(n)){if(n.length!==w)throw new Error("Invalid value array length");x=function(t){return n[t]}}else if(t.isMatrix(n)){var b=n.size();if(1!==b.length||b[0]!==w)throw new Error("Invalid matrix length");x=function(t){return n.get([t])}}else x=function(){return n};for(var _=[],E=[],N=[],M=0;M<y;M++){N.push(_.length);var S=M-u;if(S>=0&&S<w){var z=x(S);a(z,s)||(E.push(S+h),_.push(z))}}return N.push(_.length),new v({values:_,index:E,ptr:N,size:[d,y]})},v.prototype.swapRows=function(t,e){if(!(c(t)&&l(t)&&c(e)&&l(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return h(t,this._size[0]),h(e,this._size[0]),v._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},v._forEachRow=function(t,e,n,r,i){for(var o=r[t],a=r[t+1],s=o;s<a;s++)i(n[s],e[s])},v._swapRows=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=o[a],u=o[a+1],f=x(t,s,u,i),c=x(e,s,u,i);if(f<u&&c<u&&i[f]===t&&i[c]===e){if(r){var l=r[f];r[f]=r[c],r[c]=l}}else if(f<u&&i[f]===t&&(c>=u||i[c]!==e)){var p=r?r[f]:void 0;i.splice(c,0,e),r&&r.splice(c,0,p),i.splice(c<=f?f+1:f,1),r&&r.splice(c<=f?f+1:f,1)}else if(c<u&&i[c]===e&&(f>=u||i[f]!==t)){var h=r?r[c]:void 0;i.splice(f,0,t),r&&r.splice(f,0,h),i.splice(f<=c?c+1:c,1),r&&r.splice(f<=c?c+1:c,1)}}},t.Matrix._storage.sparse=v,v},e.lazy=!1},function(t,e,n){"use strict";e.name="Spa",e.path="type",e.factory=function(t,e,r){var i=r(n(18)),o=r(n(4));function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new t.FibonacciHeap}return a.prototype.type="Spa",a.prototype.isSpa=!0,a.prototype.set=function(t,e){if(this._values[t])this._values[t].value=e;else{var n=this._heap.insert(t,e);this._values[t]=n}},a.prototype.get=function(t){var e=this._values[t];return e?e.value:0},a.prototype.accumulate=function(t,e){var n=this._values[t];n?n.value=i(n.value,e):(n=this._heap.insert(t,e),this._values[t]=n)},a.prototype.forEach=function(t,e,n){var r=this._heap,i=this._values,a=[],s=r.extractMinimum();for(s&&a.push(s);s&&s.key<=e;)s.key>=t&&(o(s.value,0)||n(s.key,s.value,this)),(s=r.extractMinimum())&&a.push(s);for(var u=0;u<a.length;u++){var f=a[u];i[(s=r.insert(f.key,f.value)).key]=s}},a.prototype.swap=function(t,e){var n=this._values[t],r=this._values[e];if(!n&&r)n=this._heap.insert(t,r.value),this._heap.remove(r),this._values[t]=n,this._values[e]=void 0;else if(n&&!r)r=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=r,this._values[t]=void 0;else if(n&&r){var i=n.value;n.value=r.value,r.value=i}},a}},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},o={"–":"\\--","—":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\\\newline{}","\n":"\\\\newline{}"},a=function(t,e){return r({},t,e)};t.exports=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.preserveFormatting,s=void 0!==n&&n,u=e.escapeMapFn,f=void 0===u?a:u,c=String(t),l="",p=f(r({},i),s?r({},o):{}),h=Object.keys(p),d=function(){var t=!1;h.forEach(function(e,n){t||c.length>=e.length&&c.slice(0,e.length)===e&&(l+=p[h[n]],c=c.slice(e.length,c.length),t=!0)}),t||(l+=c.slice(0,1),c=c.slice(1,c.length))};c;)d();return l}},function(t,e,n){"use strict";var r=n(2);e.name="algorithm01",e.factory=function(t,e,n,i){var o=t.DenseMatrix;return function(t,e,n,a){var s=t._data,u=t._size,f=t._datatype,c=e._values,l=e._index,p=e._ptr,h=e._size,d=e._datatype;if(u.length!==h.length)throw new r(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=u[0],y=u[1],g="string"==typeof f&&f===d?f:void 0,v=g?i.find(n,[g,g]):n,w=void 0,x=void 0,b=[];for(w=0;w<m;w++)b[w]=[];var _=[],E=[];for(x=0;x<y;x++){for(var N=x+1,M=p[x],S=p[x+1],z=M;z<S;z++)_[w=l[z]]=a?v(c[z],s[w][x]):v(s[w][x],c[z]),E[w]=N;for(w=0;w<m;w++)E[w]===N?b[w][x]=_[w]:b[w][x]=s[w][x]}return new o({data:b,size:[m,y],datatype:g})}}},function(t,e,n){"use strict";var r=n(2);e.name="algorithm04",e.factory=function(t,e,i,o){var a=i(n(4)),s=t.SparseMatrix;return function(t,e,n){var i=t._values,u=t._index,f=t._ptr,c=t._size,l=t._datatype,p=e._values,h=e._index,d=e._ptr,m=e._size,y=e._datatype;if(c.length!==m.length)throw new r(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");var g=c[0],v=c[1],w=void 0,x=a,b=0,_=n;"string"==typeof l&&l===y&&(w=l,x=o.find(a,[w,w]),b=o.convert(0,w),_=o.find(n,[w,w]));var E=i&&p?[]:void 0,N=[],M=[],S=new s({values:E,index:N,ptr:M,size:[g,v],datatype:w}),z=i&&p?[]:void 0,A=i&&p?[]:void 0,O=[],C=[],T=void 0,P=void 0,k=void 0,F=void 0,D=void 0;for(P=0;P<v;P++){M[P]=N.length;var R=P+1;for(F=f[P],D=f[P+1],k=F;k<D;k++)T=u[k],N.push(T),O[T]=R,z&&(z[T]=i[k]);for(F=d[P],D=d[P+1],k=F;k<D;k++)if(O[T=h[k]]===R){if(z){var j=_(z[T],p[k]);x(j,b)?O[T]=null:z[T]=j}}else N.push(T),C[T]=R,A&&(A[T]=p[k]);if(z&&A)for(k=M[P];k<N.length;)O[T=N[k]]===R?(E[k]=z[T],k++):C[T]===R?(E[k]=A[T],k++):N.splice(k,1)}return M[v]=N.length,S}}},function(t,e,n){"use strict";e.name="algorithm10",e.factory=function(t,e,n,r){var i=t.DenseMatrix;return function(t,e,n,o){var a=t._values,s=t._index,u=t._ptr,f=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l=f[0],p=f[1],h=void 0,d=n;"string"==typeof c&&(h=c,e=r.convert(e,h),d=r.find(n,[h,h]));for(var m=[],y=new i({data:m,size:[l,p],datatype:h}),g=[],v=[],w=0;w<p;w++){for(var x=w+1,b=u[w],_=u[w+1],E=b;E<_;E++){var N=s[E];g[N]=a[E],v[N]=x}for(var M=0;M<l;M++)0===w&&(m[M]=[]),v[M]===x?m[M][w]=o?d(e,g[M]):d(g[M],e):m[M][w]=e}return y}}},function(t,e,n){"use strict";e.name="FibonacciHeap",e.path="type",e.factory=function(t,e,r,i){var o=r(n(20)),a=r(n(51)),s=1/Math.log((1+Math.sqrt(5))/2);function u(){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function f(t,e,n){e.left.right=e.right,e.right.left=e.left,n.degree--,n.child===e&&(n.child=e.right),0===n.degree&&(n.child=null),e.left=t,e.right=t.right,t.right=e,e.right.left=e,e.parent=null,e.mark=!1}u.prototype.type="FibonacciHeap",u.prototype.isFibonacciHeap=!0,u.prototype.insert=function(t,e){var n={key:t,value:e,degree:0};if(this._minimum){var r=this._minimum;n.left=r,n.right=r.right,r.right=n,n.right.left=n,o(t,r.key)&&(this._minimum=n)}else n.left=n,n.right=n,this._minimum=n;return this._size++,n},u.prototype.size=function(){return this._size},u.prototype.clear=function(){this._minimum=null,this._size=0},u.prototype.isEmpty=function(){return 0===this._size},u.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var e=this._minimum,n=t.degree,r=t.child;n>0;){var i=r.right;r.left.right=r.right,r.right.left=r.left,r.left=e,r.right=e.right,e.right=r,r.right.left=r,r.parent=null,r=i,n--}return t.left.right=t.right,t.right.left=t.left,e=t===t.right?null:function(t,e){var n=Math.floor(Math.log(e)*s)+1,r=new Array(n),i=0,u=t;if(u)for(i++,u=u.right;u!==t;)i++,u=u.right;for(var f=void 0;i>0;){for(var l=u.degree,p=u.right;f=r[l];){if(a(u.key,f.key)){var h=f;f=u,u=h}c(f,u),r[l]=null,l++}r[l]=u,u=p,i--}t=null;for(var d=0;d<n;d++)(f=r[d])&&(t?(f.left.right=f.right,f.right.left=f.left,f.left=t,f.right=t.right,t.right=f,f.right.left=f,o(f.key,t.key)&&(t=f)):t=f);return t}(e=t.right,this._size),this._size--,this._minimum=e,t},u.prototype.remove=function(t){this._minimum=function(t,e,n){e.key=n;var r=e.parent;return r&&o(e.key,r.key)&&(f(t,e,r),function t(e,n){var r=n.parent;r&&(n.mark?(f(e,n,r),t(r)):n.mark=!0)}(t,r)),o(e.key,t.key)&&(t=e),t}(this._minimum,t,-1),this.extractMinimum()};var c=function(t,e){t.left.right=t.right,t.right.left=t.left,t.parent=e,e.child?(t.left=e.child,t.right=e.child.right,e.child.right=t,t.right.left=t):(e.child=t,t.right=t,t.left=t),e.degree++,t.mark=!1};return u}},function(t,e,n){"use strict";var r=n(1).nearlyEqual,i=n(13);e.name="larger",e.factory=function(t,e,o,a){var s=o(n(3)),u=o(n(21)),f=o(n(22)),c=o(n(23)),l=o(n(14)),p=o(n(7)),h=n(6),d=a("larger",{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,n){return t>n&&!r(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.gt(n)&&!i(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return f(t,e,d)},"SparseMatrix, DenseMatrix":function(t,e){return u(e,t,d,!0)},"DenseMatrix, SparseMatrix":function(t,e){return u(t,e,d,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,d)},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"SparseMatrix, any":function(t,e){return c(t,e,d,!1)},"DenseMatrix, any":function(t,e){return p(t,e,d,!1)},"any, SparseMatrix":function(t,e){return c(e,t,d,!0)},"any, DenseMatrix":function(t,e){return p(e,t,d,!0)},"Array, any":function(t,e){return p(s(t),e,d,!1).valueOf()},"any, Array":function(t,e){return p(s(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+h.operators.larger+"${args[1]}\\right)"},d}},function(t,e,n){"use strict";var r=n(5),i=r.string,o=r.object,a=Array.isArray,s=i.isString;e.name="ImmutableDenseMatrix",e.path="type",e.factory=function(t,e,i){var u=i(n(17)),f=i(n(20));function c(e,n){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if(n&&!s(n))throw new Error("Invalid datatype: "+n);if(t.isMatrix(e)||a(e)){var i=new u(e,n);this._data=i._data,this._size=i._size,this._datatype=i._datatype,this._min=null,this._max=null}else if(e&&a(e.data)&&a(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min=void 0!==e.min?e.min:null,this._max=void 0!==e.max?e.max:null;else{if(e)throw new TypeError("Unsupported type of data ("+r.types.type(e)+")");this._data=[],this._size=[0],this._datatype=n,this._min=null,this._max=null}}return c.prototype=new u,c.prototype.type="ImmutableDenseMatrix",c.prototype.isImmutableDenseMatrix=!0,c.prototype.subset=function(e){switch(arguments.length){case 1:var n=u.prototype.subset.call(this,e);return t.isMatrix(n)?new c({data:n._data,size:n._size,datatype:n._datatype}):n;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},c.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},c.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},c.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},c.prototype.clone=function(){return new c({data:o.clone(this._data),size:o.clone(this._size),datatype:this._datatype})},c.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},c.fromJSON=function(t){return new c(t)},c.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},c.prototype.min=function(){if(null===this._min){var t=null;this.forEach(function(e){(null===t||f(e,t))&&(t=e)}),this._min=null!==t?t:void 0}return this._min},c.prototype.max=function(){if(null===this._max){var t=null;this.forEach(function(e){(null===t||f(t,e))&&(t=e)}),this._max=null!==t?t:void 0}return this._max},c}},function(t,e,n){"use strict";var r=n(0).clone,i=n(1).isInteger;e.name="Index",e.path="type",e.factory=function(t){function e(r){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var i=0,o=arguments.length;i<o;i++){var a=arguments[i];if(t.isRange(a))this._dimensions.push(a),this._isScalar=!1;else if(Array.isArray(a)||t.isMatrix(a)){var s=n(a.valueOf());this._dimensions.push(s);var u=s.size();1===u.length&&1===u[0]||(this._isScalar=!1)}else if("number"==typeof a)this._dimensions.push(n([a]));else{if("string"!=typeof a)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(a)}}}function n(e){for(var n=0,r=e.length;n<r;n++)if("number"!=typeof e[n]||!i(e[n]))throw new TypeError("Index parameters must be positive integer numbers");return new t.ImmutableDenseMatrix(e)}return e.prototype.type="Index",e.prototype.isIndex=!0,e.prototype.clone=function(){var t=new e;return t._dimensions=r(this._dimensions),t._isScalar=this._isScalar,t},e.create=function(t){var n=new e;return e.apply(n,t),n},e.prototype.size=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?1:r.size()[0]}return t},e.prototype.max=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?r:r.max()}return t},e.prototype.min=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?r:r.min()}return t},e.prototype.forEach=function(t){for(var e=0,n=this._dimensions.length;e<n;e++)t(this._dimensions[e],e,this)},e.prototype.dimension=function(t){return this._dimensions[t]||null},e.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},e.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},e.prototype.isScalar=function(){return this._isScalar},e.prototype.toArray=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t.push("string"==typeof r?r:r.toArray())}return t},e.prototype.valueOf=e.prototype.toArray,e.prototype.toString=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];"string"==typeof r?t.push(JSON.stringify(r)):t.push(r.toString())}return"["+t.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},e.fromJSON=function(t){return e.create(t.dimensions)},e}},function(t,e,n){"use strict";var r=n(1);e.name="Range",e.path="type",e.factory=function(t,e,n,i){function o(e,n,r){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");var i=null!==e&&void 0!==e,a=null!==n&&void 0!==n,s=null!==r&&void 0!==r;if(i)if(t.isBigNumber(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(a)if(t.isBigNumber(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter end must be a number");if(s)if(t.isBigNumber(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(e):0,this.end=a?parseFloat(n):0,this.step=s?parseFloat(r):1}return o.prototype.type="Range",o.prototype.isRange=!0,o.parse=function(t){if("string"!=typeof t)return null;var e=t.split(":").map(function(t){return parseFloat(t)});if(e.some(function(t){return isNaN(t)}))return null;switch(e.length){case 2:return new o(e[0],e[1]);case 3:return new o(e[0],e[2],e[1]);default:return null}},o.prototype.clone=function(){return new o(this.start,this.end,this.step)},o.prototype.size=function(){var t=0,e=this.start,n=this.step,i=this.end-e;return r.sign(n)===r.sign(i)?t=Math.ceil(i/n):0===i&&(t=0),isNaN(t)&&(t=0),[t]},o.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},o.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},o.prototype.forEach=function(t){var e=this.start,n=this.step,r=this.end,i=0;if(n>0)for(;e<r;)t(e,[i],this),e+=n,i++;else if(n<0)for(;e>r;)t(e,[i],this),e+=n,i++},o.prototype.map=function(t){var e=[];return this.forEach(function(n,r,i){e[r[0]]=t(n,r,i)}),e},o.prototype.toArray=function(){var t=[];return this.forEach(function(e,n){t[n[0]]=e}),t},o.prototype.valueOf=function(){return this.toArray()},o.prototype.format=function(t){var e=r.format(this.start,t);return 1!==this.step&&(e+=":"+r.format(this.step,t)),e+=":"+r.format(this.end,t)},o.prototype.toString=function(){return this.format()},o.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},o.fromJSON=function(t){return new o(t.start,t.end,t.step)},o}},function(t,e,n){"use strict";e.name="sparse",e.factory=function(t,e,n,r){var i=t.SparseMatrix,o=r("sparse",{"":function(){return new i([])},string:function(t){return new i([],t)},"Array | Matrix":function(t){return new i(t)},"Array | Matrix, string":function(t,e){return new i(t,e)}});return o.toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(8)),o=l(n(57)),a=l(n(10)),s=l(n(24)),u=l(n(62)),f=l(n(26)),c=l(n(18));function l(t){return t&&t.__esModule?t:{default:t}}var p=i.default.create();p.import(a.default),p.import(o.default),p.import(s.default),p.import(u.default),p.import(f.default),p.import(c.default);var h=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.position=null,this.absolutePosition=null,this.absolutePositionObject=null,this.x=e,this.y=n,this.getMagnitude=r(this.x,this.y)}return r(t,[{key:"setAmplitude",value:function(t){this.getMagnitude=t(this.x,this.y)}},{key:"setRawPosition",value:function(t){this.position=t,this.absolutePosition=null}},{key:"calculateAbsolutePosition",value:function(t,e){var n=p.subset(this.position,p.index(2,0),this.getMagnitude());n=p.multiply(t.rotationMatrix,n),n=p.add(n,e),this.absolutePosition=n,this.absolutePositionObject={x:p.subset(this.absolutePosition,p.index(0,0)),y:p.subset(this.absolutePosition,p.index(1,0)),z:p.subset(this.absolutePosition,p.index(2,0))}}},{key:"X",get:function(){return null==this.absolutePositionObject?NaN:this.absolutePositionObject.x}},{key:"Y",get:function(){return null==this.absolutePositionObject?NaN:this.absolutePositionObject.y}},{key:"Z",get:function(){return null==this.absolutePositionObject?NaN:this.absolutePositionObject.z}}]),t}();e.default=h},function(t,e,n){"use strict";t.exports=[n(58),n(60)]},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{default:t}}(n(59));e.name="BigNumber",e.path="type",e.factory=function(t,e,n,i,o){var a=r.default.clone({precision:e.precision});return a.prototype.type="BigNumber",a.prototype.isBigNumber=!0,a.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},a.fromJSON=function(t){return new a(t.value)},o.on("config",function(t,e){t.precision!==e.precision&&a.config({precision:t.precision})}),a},e.math=!0},function(t,e,n){var r;/*! decimal.js v10.0.1 https://github.com/MikeMcl/decimal.js/LICENCE */!function(i){"use strict";var o,a,s,u=9e15,f=1e9,c="0123456789abcdef",l="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",p="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",h={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-u,maxE:u,crypto:!1},d=!0,m="[DecimalError] ",y=m+"Invalid argument: ",g=m+"Precision limit exceeded",v=m+"crypto unavailable",w=Math.floor,x=Math.pow,b=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,_=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,E=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,N=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,M=1e7,S=7,z=l.length-1,A=p.length-1,O={name:"[object Decimal]"};function C(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",(n=S-r.length)&&(o+=L(n)),o+=r;a=t[e],(n=S-(r=a+"").length)&&(o+=L(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}function T(t,e,n){if(t!==~~t||t<e||t>n)throw Error(y+t)}function P(t,e,n,r){var i,o,a,s;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=S,i=0):(i=Math.ceil((e+1)/S),e%=S),o=x(10,S-e),s=t[i]%o|0,null==r?e<3?(0==e?s=s/100|0:1==e&&(s=s/10|0),a=n<4&&99999==s||n>3&&49999==s||5e4==s||0==s):a=(n<4&&s+1==o||n>3&&s+1==o/2)&&(t[i+1]/o/100|0)==x(10,e-2)-1||(s==o/2||0==s)&&0==(t[i+1]/o/100|0):e<4?(0==e?s=s/1e3|0:1==e?s=s/100|0:2==e&&(s=s/10|0),a=(r||n<4)&&9999==s||!r&&n>3&&4999==s):a=((r||n<4)&&s+1==o||!r&&n>3&&s+1==o/2)&&(t[i+1]/o/1e3|0)==x(10,e-3)-1,a}function k(t,e,n){for(var r,i,o=[0],a=0,s=t.length;a<s;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=c.indexOf(t.charAt(a++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}O.absoluteValue=O.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),D(t)},O.ceil=function(){return D(new this.constructor(this),this.e+1,2)},O.comparedTo=O.cmp=function(t){var e,n,r,i,o=this,a=o.d,s=(t=new o.constructor(t)).d,u=o.s,f=t.s;if(!a||!s)return u&&f?u!==f?u:a===s?0:!a^u<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?u:s[0]?-f:0;if(u!==f)return u;if(o.e!==t.e)return o.e>t.e^u<0?1:-1;for(e=0,n=(r=a.length)<(i=s.length)?r:i;e<n;++e)if(a[e]!==s[e])return a[e]>s[e]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1},O.cosine=O.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+S,r.rounding=1,n=function(t,e){var n,r,i=e.d.length;i<32?(n=Math.ceil(i/3),r=Math.pow(4,-n).toString()):(n=16,r="2.3283064365386962890625e-10");t.precision+=n,e=Y(t,1,e.times(r),new t(1));for(var o=n;o--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=n,e}(r,G(r,n)),r.precision=t,r.rounding=e,D(2==s||3==s?n.neg():n,t,e,!0)):new r(1):new r(NaN)},O.cubeRoot=O.cbrt=function(){var t,e,n,r,i,o,a,s,u,f,c=this,l=c.constructor;if(!c.isFinite()||c.isZero())return new l(c);for(d=!1,(o=c.s*Math.pow(c.s*c,1/3))&&Math.abs(o)!=1/0?r=new l(o.toString()):(n=C(c.d),(o=((t=c.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=Math.pow(n,1/3),t=w((t+1)/3)-(t%3==(t<0?-1:2)),(r=new l(n=o==1/0?"5e"+t:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+t)).s=c.s),a=(t=l.precision)+3;;)if(f=(u=(s=r).times(s).times(s)).plus(c),r=F(f.plus(c).times(s),f.plus(u),a+2,1),C(s.d).slice(0,a)===(n=C(r.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(D(r,t+1,1),e=!r.times(r).times(r).eq(c));break}if(!i&&(D(s,t+1,0),s.times(s).times(s).eq(c))){r=s;break}a+=4,i=1}return d=!0,D(r,t,l.rounding,e)},O.decimalPlaces=O.dp=function(){var t,e=this.d,n=NaN;if(e){if(n=((t=e.length-1)-w(this.e/S))*S,t=e[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},O.dividedBy=O.div=function(t){return F(this,new this.constructor(t))},O.dividedToIntegerBy=O.divToInt=function(t){var e=this.constructor;return D(F(this,new e(t),0,1,1),e.precision,e.rounding)},O.equals=O.eq=function(t){return 0===this.cmp(t)},O.floor=function(){return D(new this.constructor(this),this.e+1,3)},O.greaterThan=O.gt=function(t){return this.cmp(t)>0},O.greaterThanOrEqualTo=O.gte=function(t){var e=this.cmp(t);return 1==e||0===e},O.hyperbolicCosine=O.cosh=function(){var t,e,n,r,i,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;n=a.precision,r=a.rounding,a.precision=n+Math.max(o.e,o.sd())+4,a.rounding=1,(i=o.d.length)<32?(t=Math.ceil(i/3),e=Math.pow(4,-t).toString()):(t=16,e="2.3283064365386962890625e-10"),o=Y(a,1,o.times(e),new a(1),!0);for(var u,f=t,c=new a(8);f--;)u=o.times(o),o=s.minus(u.times(c.minus(u.times(c))));return D(o,a.precision=n,a.rounding=r,!0)},O.hyperbolicSine=O.sinh=function(){var t,e,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=Y(o,2,i,i,!0);else{t=(t=1.4*Math.sqrt(r))>16?16:0|t,i=Y(o,2,i=i.times(Math.pow(5,-t)),i,!0);for(var a,s=new o(5),u=new o(16),f=new o(20);t--;)a=i.times(i),i=i.times(s.plus(a.times(u.times(a).plus(f))))}return o.precision=e,o.rounding=n,D(i,e,n,!0)},O.hyperbolicTangent=O.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,F(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)},O.inverseCosine=O.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?e.isNeg()?B(n,i,o):new n(0):new n(NaN):e.isZero()?B(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=B(n,i+4,o).times(.5),n.precision=i,n.rounding=o,t.minus(e))},O.inverseHyperbolicCosine=O.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,d=!1,n=n.times(n).minus(1).sqrt().plus(n),d=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)},O.inverseHyperbolicSine=O.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,d=!1,n=n.times(n).plus(1).sqrt().plus(n),d=!0,r.precision=t,r.rounding=e,n.ln())},O.inverseHyperbolicTangent=O.atanh=function(){var t,e,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?D(new o(i),t,e,!0):(o.precision=n=r-i.e,i=F(i.plus(1),new o(1).minus(i),n+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)},O.inverseSine=O.asin=function(){var t,e,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==e?0===e?((t=B(o,n+4,r).times(.5)).s=i.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},O.inverseTangent=O.atan=function(){var t,e,n,r,i,o,a,s,u,f=this,c=f.constructor,l=c.precision,p=c.rounding;if(f.isFinite()){if(f.isZero())return new c(f);if(f.abs().eq(1)&&l+4<=A)return(a=B(c,l+4,p).times(.25)).s=f.s,a}else{if(!f.s)return new c(NaN);if(l+4<=A)return(a=B(c,l+4,p).times(.5)).s=f.s,a}for(c.precision=s=l+10,c.rounding=1,t=n=Math.min(28,s/S+2|0);t;--t)f=f.div(f.times(f).plus(1).sqrt().plus(1));for(d=!1,e=Math.ceil(s/S),r=1,u=f.times(f),a=new c(f),i=f;-1!==t;)if(i=i.times(u),o=a.minus(i.div(r+=2)),i=i.times(u),void 0!==(a=o.plus(i.div(r+=2))).d[e])for(t=e;a.d[t]===o.d[t]&&t--;);return n&&(a=a.times(2<<n-1)),d=!0,D(a,c.precision=l,c.rounding=p,!0)},O.isFinite=function(){return!!this.d},O.isInteger=O.isInt=function(){return!!this.d&&w(this.e/S)>this.d.length-2},O.isNaN=function(){return!this.s},O.isNegative=O.isNeg=function(){return this.s<0},O.isPositive=O.isPos=function(){return this.s>0},O.isZero=function(){return!!this.d&&0===this.d[0]},O.lessThan=O.lt=function(t){return this.cmp(t)<0},O.lessThanOrEqualTo=O.lte=function(t){return this.cmp(t)<1},O.logarithm=O.log=function(t){var e,n,r,i,o,a,s,u,f=this.constructor,c=f.precision,l=f.rounding;if(null==t)t=new f(10),e=!0;else{if(n=(t=new f(t)).d,t.s<0||!n||!n[0]||t.eq(1))return new f(NaN);e=t.eq(10)}if(n=this.d,this.s<0||!n||!n[0]||this.eq(1))return new f(n&&!n[0]?-1/0:1!=this.s?NaN:n?0:1/0);if(e)if(n.length>1)o=!0;else{for(i=n[0];i%10==0;)i/=10;o=1!==i}if(d=!1,a=$(this,s=c+5),r=e?I(f,s+10):$(t,s),P((u=F(a,r,s,1)).d,i=c,l))do{if(a=$(this,s+=10),r=e?I(f,s+10):$(t,s),u=F(a,r,s,1),!o){+C(u.d).slice(i+1,i+15)+1==1e14&&(u=D(u,c+1,0));break}}while(P(u.d,i+=10,l));return d=!0,D(u,c,l)},O.minus=O.sub=function(t){var e,n,r,i,o,a,s,u,f,c,l,p,h=this,m=h.constructor;if(t=new m(t),!h.d||!t.d)return h.s&&t.s?h.d?t.s=-t.s:t=new m(t.d||h.s!==t.s?h:NaN):t=new m(NaN),t;if(h.s!=t.s)return t.s=-t.s,h.plus(t);if(f=h.d,p=t.d,s=m.precision,u=m.rounding,!f[0]||!p[0]){if(p[0])t.s=-t.s;else{if(!f[0])return new m(3===u?-0:0);t=new m(h)}return d?D(t,s,u):t}if(n=w(t.e/S),c=w(h.e/S),f=f.slice(),o=c-n){for((l=o<0)?(e=f,o=-o,a=p.length):(e=p,n=c,a=f.length),o>(r=Math.max(Math.ceil(s/S),a)+2)&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for((l=(r=f.length)<(a=p.length))&&(a=r),r=0;r<a;r++)if(f[r]!=p[r]){l=f[r]<p[r];break}o=0}for(l&&(e=f,f=p,p=e,t.s=-t.s),a=f.length,r=p.length-a;r>0;--r)f[a++]=0;for(r=p.length;r>o;){if(f[--r]<p[r]){for(i=r;i&&0===f[--i];)f[i]=M-1;--f[i],f[r]+=M}f[r]-=p[r]}for(;0===f[--a];)f.pop();for(;0===f[0];f.shift())--n;return f[0]?(t.d=f,t.e=j(f,n),d?D(t,s,u):t):new m(3===u?-0:0)},O.modulo=O.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?D(new r(n),r.precision,r.rounding):(d=!1,9==r.modulo?(e=F(n,t.abs(),0,3,1)).s*=t.s:e=F(n,t,0,r.modulo,1),e=e.times(t),d=!0,n.minus(e))},O.naturalExponential=O.exp=function(){return Z(this)},O.naturalLogarithm=O.ln=function(){return $(this)},O.negated=O.neg=function(){var t=new this.constructor(this);return t.s=-t.s,D(t)},O.plus=O.add=function(t){var e,n,r,i,o,a,s,u,f,c,l=this,p=l.constructor;if(t=new p(t),!l.d||!t.d)return l.s&&t.s?l.d||(t=new p(t.d||l.s===t.s?l:NaN)):t=new p(NaN),t;if(l.s!=t.s)return t.s=-t.s,l.minus(t);if(f=l.d,c=t.d,s=p.precision,u=p.rounding,!f[0]||!c[0])return c[0]||(t=new p(l)),d?D(t,s,u):t;if(o=w(l.e/S),r=w(t.e/S),f=f.slice(),i=o-r){for(i<0?(n=f,i=-i,a=c.length):(n=c,r=o,a=f.length),i>(a=(o=Math.ceil(s/S))>a?o+1:a+1)&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((a=f.length)-(i=c.length)<0&&(i=a,n=c,c=f,f=n),e=0;i;)e=(f[--i]=f[i]+c[i]+e)/M|0,f[i]%=M;for(e&&(f.unshift(e),++r),a=f.length;0==f[--a];)f.pop();return t.d=f,t.e=j(f,r),d?D(t,s,u):t},O.precision=O.sd=function(t){var e,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(y+t);return n.d?(e=q(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e},O.round=function(){var t=this,e=t.constructor;return D(new e(t),t.e+1,e.rounding)},O.sine=O.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+S,r.rounding=1,n=function(t,e){var n,r=e.d.length;if(r<3)return Y(t,2,e,e);n=(n=1.4*Math.sqrt(r))>16?16:0|n,e=e.times(Math.pow(5,-n)),e=Y(t,2,e,e);for(var i,o=new t(5),a=new t(16),s=new t(20);n--;)i=e.times(e),e=e.times(o.plus(i.times(a.times(i).minus(s))));return e}(r,G(r,n)),r.precision=t,r.rounding=e,D(s>2?n.neg():n,t,e,!0)):new r(NaN)},O.squareRoot=O.sqrt=function(){var t,e,n,r,i,o,a=this,s=a.d,u=a.e,f=a.s,c=a.constructor;if(1!==f||!s||!s[0])return new c(!f||f<0&&(!s||s[0])?NaN:s?a:1/0);for(d=!1,0==(f=Math.sqrt(+a))||f==1/0?(((e=C(s)).length+u)%2==0&&(e+="0"),f=Math.sqrt(e),u=w((u+1)/2)-(u<0||u%2),r=new c(e=f==1/0?"1e"+u:(e=f.toExponential()).slice(0,e.indexOf("e")+1)+u)):r=new c(f.toString()),n=(u=c.precision)+3;;)if(r=(o=r).plus(F(a,o,n+2,1)).times(.5),C(o.d).slice(0,n)===(e=C(r.d)).slice(0,n)){if("9999"!=(e=e.slice(n-3,n+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(D(r,u+1,1),t=!r.times(r).eq(a));break}if(!i&&(D(o,u+1,0),o.times(o).eq(a))){r=o;break}n+=4,i=1}return d=!0,D(r,u,c.rounding,t)},O.tangent=O.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,(n=n.sin()).s=1,n=F(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,D(2==s||4==s?n.neg():n,t,e,!0)):new r(NaN)},O.times=O.mul=function(t){var e,n,r,i,o,a,s,u,f,c=this,l=c.constructor,p=c.d,h=(t=new l(t)).d;if(t.s*=c.s,!(p&&p[0]&&h&&h[0]))return new l(!t.s||p&&!p[0]&&!h||h&&!h[0]&&!p?NaN:p&&h?0*t.s:t.s/0);for(n=w(c.e/S)+w(t.e/S),(u=p.length)<(f=h.length)&&(o=p,p=h,h=o,a=u,u=f,f=a),o=[],r=a=u+f;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=u+r;i>r;)s=o[i]+h[r]*p[i-r-1]+e,o[i--]=s%M|0,e=s/M|0;o[i]=(o[i]+e)%M|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=j(o,n),d?D(t,l.precision,l.rounding):t},O.toBinary=function(t,e){return K(this,2,t,e)},O.toDecimalPlaces=O.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(T(t,0,f),void 0===e?e=r.rounding:T(e,0,8),D(n,t+n.e+1,e))},O.toExponential=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=R(r,!0):(T(t,0,f),void 0===e?e=i.rounding:T(e,0,8),n=R(r=D(new i(r),t+1,e),!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n},O.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return void 0===t?n=R(i):(T(t,0,f),void 0===e?e=o.rounding:T(e,0,8),n=R(r=D(new o(i),t+i.e+1,e),!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},O.toFraction=function(t){var e,n,r,i,o,a,s,u,f,c,l,p,h=this,m=h.d,g=h.constructor;if(!m)return new g(h);if(f=n=new g(1),a=(o=(e=new g(r=u=new g(0))).e=q(m)-h.e-1)%S,e.d[0]=x(10,a<0?S+a:a),null==t)t=o>0?e:f;else{if(!(s=new g(t)).isInt()||s.lt(f))throw Error(y+s);t=s.gt(e)?o>0?e:f:s}for(d=!1,s=new g(C(m)),c=g.precision,g.precision=o=m.length*S*2;l=F(s,e,0,1,1),1!=(i=n.plus(l.times(r))).cmp(t);)n=r,r=i,i=f,f=u.plus(l.times(i)),u=i,i=e,e=s.minus(l.times(i)),s=i;return i=F(t.minus(n),r,0,1,1),u=u.plus(i.times(f)),n=n.plus(i.times(r)),u.s=f.s=h.s,p=F(f,r,o,1).minus(h).abs().cmp(F(u,n,o,1).minus(h).abs())<1?[f,r]:[u,n],g.precision=c,d=!0,p},O.toHexadecimal=O.toHex=function(t,e){return K(this,16,t,e)},O.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),null==t){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),void 0===e?e=r.rounding:T(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(d=!1,n=F(n,t,0,e,1).times(t),d=!0,D(n)):(t.s=n.s,n=t),n},O.toNumber=function(){return+this},O.toOctal=function(t,e){return K(this,8,t,e)},O.toPower=O.pow=function(t){var e,n,r,i,o,a,s=this,u=s.constructor,f=+(t=new u(t));if(!(s.d&&t.d&&s.d[0]&&t.d[0]))return new u(x(+s,f));if((s=new u(s)).eq(1))return s;if(r=u.precision,o=u.rounding,t.eq(1))return D(s,r,o);if((e=w(t.e/S))>=t.d.length-1&&(n=f<0?-f:f)<=9007199254740991)return i=U(u,s,n,r),t.s<0?new u(1).div(i):D(i,r,o);if((a=s.s)<0){if(e<t.d.length-1)return new u(NaN);if(0==(1&t.d[e])&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return(e=0!=(n=x(+s,f))&&isFinite(n)?new u(n+"").e:w(f*(Math.log("0."+C(s.d))/Math.LN10+s.e+1)))>u.maxE+1||e<u.minE-1?new u(e>0?a/0:0):(d=!1,u.rounding=s.s=1,n=Math.min(12,(e+"").length),(i=Z(t.times($(s,r+n)),r)).d&&P((i=D(i,r+5,1)).d,r,o)&&(e=r+10,+C((i=D(Z(t.times($(s,e+n)),e),e+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=D(i,r+1,0))),i.s=a,d=!0,u.rounding=o,D(i,r,o))},O.toPrecision=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=R(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(T(t,1,f),void 0===e?e=i.rounding:T(e,0,8),n=R(r=D(new i(r),t,e),t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n},O.toSignificantDigits=O.toSD=function(t,e){var n=this.constructor;return void 0===t?(t=n.precision,e=n.rounding):(T(t,1,f),void 0===e?e=n.rounding:T(e,0,8)),D(new n(this),t,e)},O.toString=function(){var t=this,e=t.constructor,n=R(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},O.truncated=O.trunc=function(){return D(new this.constructor(this),this.e+1,1)},O.valueOf=O.toJSON=function(){var t=this,e=t.constructor,n=R(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};var F=function(){function t(t,e,n){var r,i=0,o=t.length;for(t=t.slice();o--;)r=t[o]*e+i,t[o]=r%n|0,i=r/n|0;return i&&t.unshift(i),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,i,o,s,u,f){var c,l,p,h,d,m,y,g,v,x,b,_,E,N,z,A,O,C,T,P,k=r.constructor,F=r.s==i.s?1:-1,R=r.d,j=i.d;if(!(R&&R[0]&&j&&j[0]))return new k(r.s&&i.s&&(R?!j||R[0]!=j[0]:j)?R&&0==R[0]||!j?0*F:F/0:NaN);for(f?(d=1,l=r.e-i.e):(f=M,d=S,l=w(r.e/d)-w(i.e/d)),T=j.length,O=R.length,x=(v=new k(F)).d=[],p=0;j[p]==(R[p]||0);p++);if(j[p]>(R[p]||0)&&l--,null==o?(N=o=k.precision,s=k.rounding):N=u?o+(r.e-i.e)+1:o,N<0)x.push(1),m=!0;else{if(N=N/d+2|0,p=0,1==T){for(h=0,j=j[0],N++;(p<O||h)&&N--;p++)z=h*f+(R[p]||0),x[p]=z/j|0,h=z%j|0;m=h||p<O}else{for((h=f/(j[0]+1)|0)>1&&(j=t(j,h,f),R=t(R,h,f),T=j.length,O=R.length),A=T,_=(b=R.slice(0,T)).length;_<T;)b[_++]=0;(P=j.slice()).unshift(0),C=j[0],j[1]>=f/2&&++C;do{h=0,(c=e(j,b,T,_))<0?(E=b[0],T!=_&&(E=E*f+(b[1]||0)),(h=E/C|0)>1?(h>=f&&(h=f-1),1==(c=e(y=t(j,h,f),b,g=y.length,_=b.length))&&(h--,n(y,T<g?P:j,g,f))):(0==h&&(c=h=1),y=j.slice()),(g=y.length)<_&&y.unshift(0),n(b,y,_,f),-1==c&&(c=e(j,b,T,_=b.length))<1&&(h++,n(b,T<_?P:j,_,f)),_=b.length):0===c&&(h++,b=[0]),x[p++]=h,c&&b[0]?b[_++]=R[A]||0:(b=[R[A]],_=1)}while((A++<O||void 0!==b[0])&&N--);m=void 0!==b[0]}x[0]||x.shift()}if(1==d)v.e=l,a=m;else{for(p=1,h=x[0];h>=10;h/=10)p++;v.e=p+l*d-1,D(v,u?o+v.e+1:o,s,m)}return v}}();function D(t,e,n,r){var i,o,a,s,u,f,c,l,p,h=t.constructor;t:if(null!=e){if(!(l=t.d))return t;for(i=1,s=l[0];s>=10;s/=10)i++;if((o=e-i)<0)o+=S,a=e,u=(c=l[p=0])/x(10,i-a-1)%10|0;else if((p=Math.ceil((o+1)/S))>=(s=l.length)){if(!r)break t;for(;s++<=p;)l.push(0);c=u=0,i=1,a=(o%=S)-S+1}else{for(c=s=l[p],i=1;s>=10;s/=10)i++;u=(a=(o%=S)-S+i)<0?0:c/x(10,i-a-1)%10|0}if(r=r||e<0||void 0!==l[p+1]||(a<0?c:c%x(10,i-a-1)),f=n<4?(u||r)&&(0==n||n==(t.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(o>0?a>0?c/x(10,i-a):0:l[p-1])%10&1||n==(t.s<0?8:7)),e<1||!l[0])return l.length=0,f?(e-=t.e+1,l[0]=x(10,(S-e%S)%S),t.e=-e||0):l[0]=t.e=0,t;if(0==o?(l.length=p,s=1,p--):(l.length=p+1,s=x(10,S-o),l[p]=a>0?(c/x(10,i-a)%x(10,a)|0)*s:0),f)for(;;){if(0==p){for(o=1,a=l[0];a>=10;a/=10)o++;for(a=l[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(t.e++,l[0]==M&&(l[0]=1));break}if(l[p]+=s,l[p]!=M)break;l[p--]=0,s=1}for(o=l.length;0===l[--o];)l.pop()}return d&&(t.e>h.maxE?(t.d=null,t.e=NaN):t.e<h.minE&&(t.e=0,t.d=[0])),t}function R(t,e,n){if(!t.isFinite())return J(t);var r,i=t.e,o=C(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+L(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+L(-i-1)+o,n&&(r=n-a)>0&&(o+=L(r))):i>=a?(o+=L(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+L(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=L(r))),o}function j(t,e){var n=t[0];for(e*=S;n>=10;n/=10)e++;return e}function I(t,e,n){if(e>z)throw d=!0,n&&(t.precision=n),Error(g);return D(new t(l),e,1,!0)}function B(t,e,n){if(e>A)throw Error(g);return D(new t(p),e,n,!0)}function q(t){var e=t.length-1,n=e*S+1;if(e=t[e]){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function L(t){for(var e="";t--;)e+="0";return e}function U(t,e,n,r){var i,o=new t(1),a=Math.ceil(r/S+4);for(d=!1;;){if(n%2&&Q((o=o.times(e)).d,a)&&(i=!0),0===(n=w(n/2))){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}Q((e=e.times(e)).d,a)}return d=!0,o}function W(t){return 1&t.d[t.d.length-1]}function H(t,e,n){for(var r,i=new t(e[0]),o=0;++o<e.length;){if(!(r=new t(e[o])).s){i=r;break}i[n](r)&&(i=r)}return i}function Z(t,e){var n,r,i,o,a,s,u,f=0,c=0,l=0,p=t.constructor,h=p.rounding,m=p.precision;if(!t.d||!t.d[0]||t.e>17)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(d=!1,u=m):u=e,s=new p(.03125);t.e>-2;)t=t.times(s),l+=5;for(u+=r=Math.log(x(2,l))/Math.LN10*2+5|0,n=o=a=new p(1),p.precision=u;;){if(o=D(o.times(t),u,1),n=n.times(++c),C((s=a.plus(F(o,n,u,1))).d).slice(0,u)===C(a.d).slice(0,u)){for(i=l;i--;)a=D(a.times(a),u,1);if(null!=e)return p.precision=m,a;if(!(f<3&&P(a.d,u-r,h,f)))return D(a,p.precision=m,h,d=!0);p.precision=u+=10,n=o=s=new p(1),c=0,f++}a=s}}function $(t,e){var n,r,i,o,a,s,u,f,c,l,p,h=1,m=t,y=m.d,g=m.constructor,v=g.rounding,w=g.precision;if(m.s<0||!y||!y[0]||!m.e&&1==y[0]&&1==y.length)return new g(y&&!y[0]?-1/0:1!=m.s?NaN:y?0:m);if(null==e?(d=!1,c=w):c=e,g.precision=c+=10,r=(n=C(y)).charAt(0),!(Math.abs(o=m.e)<15e14))return f=I(g,c+2,w).times(o+""),m=$(new g(r+"."+n.slice(1)),c-10).plus(f),g.precision=w,null==e?D(m,w,v,d=!0):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=C((m=m.times(t)).d)).charAt(0),h++;for(o=m.e,r>1?(m=new g("0."+n),o++):m=new g(r+"."+n.slice(1)),l=m,u=a=m=F(m.minus(1),m.plus(1),c,1),p=D(m.times(m),c,1),i=3;;){if(a=D(a.times(p),c,1),C((f=u.plus(F(a,new g(i),c,1))).d).slice(0,c)===C(u.d).slice(0,c)){if(u=u.times(2),0!==o&&(u=u.plus(I(g,c+2,w).times(o+""))),u=F(u,new g(h),c,1),null!=e)return g.precision=w,u;if(!P(u.d,c-10,v,s))return D(u,g.precision=w,v,d=!0);g.precision=c+=10,f=a=m=F(l.minus(1),l.plus(1),c,1),p=D(m.times(m),c,1),i=s=1}u=f,i+=2}}function J(t){return String(t.s*t.s/0)}function V(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i)){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%S,n<0&&(r+=S),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=S;r<i;)t.d.push(+e.slice(r,r+=S));e=e.slice(r),r=S-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),d&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function X(t,e){var n,r,i,a,s,u,f,c,l;if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(_.test(e))n=16,e=e.toLowerCase();else if(b.test(e))n=2;else{if(!E.test(e))throw Error(y+e);n=8}for((a=e.search(/p/i))>0?(f=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),s=(a=e.indexOf("."))>=0,r=t.constructor,s&&(a=(u=(e=e.replace(".","")).length)-a,i=U(r,new r(n),a,2*a)),a=l=(c=k(e,n,M)).length-1;0===c[a];--a)c.pop();return a<0?new r(0*t.s):(t.e=j(c,l),t.d=c,d=!1,s&&(t=F(t,i,4*u)),f&&(t=t.times(Math.abs(f)<54?Math.pow(2,f):o.pow(2,f))),d=!0,t)}function Y(t,e,n,r,i){var o,a,s,u,f=t.precision,c=Math.ceil(f/S);for(d=!1,u=n.times(n),s=new t(r);;){if(a=F(s.times(u),new t(e++*e++),f,1),s=i?r.plus(a):r.minus(a),r=F(a.times(u),new t(e++*e++),f,1),void 0!==(a=s.plus(r)).d[c]){for(o=c;a.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=r,r=a,a=o,0}return d=!0,a.d.length=c+1,a}function G(t,e){var n,r=e.s<0,i=B(t,t.precision,1),o=i.times(.5);if((e=e.abs()).lte(o))return s=r?4:1,e;if((n=e.divToInt(i)).isZero())s=r?3:2;else{if((e=e.minus(n.times(i))).lte(o))return s=W(n)?r?2:3:r?4:1,e;s=W(n)?r?1:4:r?3:2}return e.minus(i).abs()}function K(t,e,n,r){var i,o,s,u,l,p,h,d,m,y=t.constructor,g=void 0!==n;if(g?(T(n,1,f),void 0===r?r=y.rounding:T(r,0,8)):(n=y.precision,r=y.rounding),t.isFinite()){for(s=(h=R(t)).indexOf("."),g?(i=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):i=e,s>=0&&(h=h.replace(".",""),(m=new y(1)).e=h.length-s,m.d=k(R(m),10,i),m.e=m.d.length),o=l=(d=k(h,10,i)).length;0==d[--l];)d.pop();if(d[0]){if(s<0?o--:((t=new y(t)).d=d,t.e=o,d=(t=F(t,m,n,r,0,i)).d,o=t.e,p=a),s=d[n],u=i/2,p=p||void 0!==d[n+1],p=r<4?(void 0!==s||p)&&(0===r||r===(t.s<0?3:2)):s>u||s===u&&(4===r||p||6===r&&1&d[n-1]||r===(t.s<0?8:7)),d.length=n,p)for(;++d[--n]>i-1;)d[n]=0,n||(++o,d.unshift(1));for(l=d.length;!d[l-1];--l);for(s=0,h="";s<l;s++)h+=c.charAt(d[s]);if(g){if(l>1)if(16==e||8==e){for(s=16==e?4:3,--l;l%s;l++)h+="0";for(l=(d=k(h,i,e)).length;!d[l-1];--l);for(s=1,h="1.";s<l;s++)h+=c.charAt(d[s])}else h=h.charAt(0)+"."+h.slice(1);h=h+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)h="0"+h;h="0."+h}else if(++o>l)for(o-=l;o--;)h+="0";else o<l&&(h=h.slice(0,o)+"."+h.slice(o))}else h=g?"0p+0":"0";h=(16==e?"0x":2==e?"0b":8==e?"0o":"")+h}else h=J(t);return t.s<0?"-"+h:h}function Q(t,e){if(t.length>e)return t.length=e,!0}function tt(t){return new this(t).abs()}function et(t){return new this(t).acos()}function nt(t){return new this(t).acosh()}function rt(t,e){return new this(t).plus(e)}function it(t){return new this(t).asin()}function ot(t){return new this(t).asinh()}function at(t){return new this(t).atan()}function st(t){return new this(t).atanh()}function ut(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,o=r+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?B(this,r,i):new this(0)).s=t.s:!t.d||e.isZero()?(n=B(this,o,1).times(.5)).s=t.s:e.s<0?(this.precision=o,this.rounding=1,n=this.atan(F(t,e,o,1)),e=B(this,o,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(F(t,e,o,1)):(n=B(this,o,1).times(e.s>0?.25:.75)).s=t.s:n=new this(NaN),n}function ft(t){return new this(t).cbrt()}function ct(t){return D(t=new this(t),t.e+1,2)}function lt(t){if(!t||"object"!=typeof t)throw Error(m+"Object expected");var e,n,r,i=!0===t.defaults,o=["precision",1,f,"rounding",0,8,"toExpNeg",-u,0,"toExpPos",0,u,"maxE",0,u,"minE",-u,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(n=o[e],i&&(this[n]=h[n]),void 0!==(r=t[n])){if(!(w(r)===r&&r>=o[e+1]&&r<=o[e+2]))throw Error(y+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=h[n]),void 0!==(r=t[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(y+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(v);this[n]=!0}else this[n]=!1}return this}function pt(t){return new this(t).cos()}function ht(t){return new this(t).cosh()}function dt(t,e){return new this(t).div(e)}function mt(t){return new this(t).exp()}function yt(t){return D(t=new this(t),t.e+1,3)}function gt(){var t,e,n=new this(0);for(d=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return d=!0,new this(1/0);n=e}return d=!0,n.sqrt()}function vt(t){return t instanceof o||t&&"[object Decimal]"===t.name||!1}function wt(t){return new this(t).ln()}function xt(t,e){return new this(t).log(e)}function bt(t){return new this(t).log(2)}function _t(t){return new this(t).log(10)}function Et(){return H(this,arguments,"lt")}function Nt(){return H(this,arguments,"gt")}function Mt(t,e){return new this(t).mod(e)}function St(t,e){return new this(t).mul(e)}function zt(t,e){return new this(t).pow(e)}function At(t){var e,n,r,i,o=0,a=new this(1),s=[];if(void 0===t?t=this.precision:T(t,1,f),r=Math.ceil(t/S),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=e[o])>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(v);for(e=crypto.randomBytes(r*=4);o<r;)(i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((127&e[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,o):(s.push(i%1e7),o+=4);o=r/4}else for(;o<r;)s[o++]=1e7*Math.random()|0;for(r=s[--o],t%=S,r&&t&&(i=x(10,S-t),s[o]=(r/i|0)*i);0===s[o];o--)s.pop();if(o<0)n=0,s=[0];else{for(n=-1;0===s[0];n-=S)s.shift();for(r=1,i=s[0];i>=10;i/=10)r++;r<S&&(n-=S-r)}return a.e=n,a.d=s,a}function Ot(t){return D(t=new this(t),t.e+1,this.rounding)}function Ct(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function Tt(t){return new this(t).sin()}function Pt(t){return new this(t).sinh()}function kt(t){return new this(t).sqrt()}function Ft(t,e){return new this(t).sub(e)}function Dt(t){return new this(t).tan()}function Rt(t){return new this(t).tanh()}function jt(t){return D(t=new this(t),t.e+1,1)}(o=function t(e){var n,r,i;function o(t){var e,n,r,i=this;if(!(i instanceof o))return new o(t);if(i.constructor=o,t instanceof o)return i.s=t.s,i.e=t.e,void(i.d=(t=t.d)?t.slice():t);if("number"==(r=typeof t)){if(0===t)return i.s=1/t<0?-1:1,i.e=0,void(i.d=[0]);if(t<0?(t=-t,i.s=-1):i.s=1,t===~~t&&t<1e7){for(e=0,n=t;n>=10;n/=10)e++;return i.e=e,void(i.d=[t])}return 0*t!=0?(t||(i.s=NaN),i.e=NaN,void(i.d=null)):V(i,t.toString())}if("string"!==r)throw Error(y+t);return 45===t.charCodeAt(0)?(t=t.slice(1),i.s=-1):i.s=1,N.test(t)?V(i,t):X(i,t)}if(o.prototype=O,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=lt,o.clone=t,o.isDecimal=vt,o.abs=tt,o.acos=et,o.acosh=nt,o.add=rt,o.asin=it,o.asinh=ot,o.atan=at,o.atanh=st,o.atan2=ut,o.cbrt=ft,o.ceil=ct,o.cos=pt,o.cosh=ht,o.div=dt,o.exp=mt,o.floor=yt,o.hypot=gt,o.ln=wt,o.log=xt,o.log10=_t,o.log2=bt,o.max=Et,o.min=Nt,o.mod=Mt,o.mul=St,o.pow=zt,o.random=At,o.round=Ot,o.sign=Ct,o.sin=Tt,o.sinh=Pt,o.sqrt=kt,o.sub=Ft,o.tan=Dt,o.tanh=Rt,o.trunc=jt,void 0===e&&(e={}),e&&!0!==e.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)e.hasOwnProperty(r=i[n++])||(e[r]=this[r]);return o.config(e),o}(h)).default=o.Decimal=o,l=new o(l),p=new o(p),void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){"use strict";var r=n(61);e.name="bignumber",e.factory=function(t,e,n,i){var o=i("bignumber",{"":function(){return new t.BigNumber(0)},number:function(e){return new t.BigNumber(e+"")},string:function(e){return new t.BigNumber(e)},BigNumber:function(t){return t},Fraction:function(e){return new t.BigNumber(e.n).div(e.d)},null:function(e){return new t.BigNumber(0)},"Array | Matrix":function(t){return r(t,o)}});return o.toTex={0:"0",1:"\\left(${args[0]}\\right)"},o}},function(t,e,n){"use strict";t.exports=function t(e,n,r){return e&&"function"==typeof e.map?e.map(function(e){return t(e,n,r)}):n(e)}},function(t,e,n){"use strict";var r=n(0).clone,i=n(12).validateIndex,o=n(25).getSafeProperty,a=n(25).setSafeProperty,s=n(2);function u(t,e){if(1!==e.size().length)throw new s(e.size(),1);var n=e.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");return o(t,n)}function f(t,e,n){if(1!==e.size().length)throw new s(e.size(),1);var i=e.dimension(0);if("string"!=typeof i)throw new TypeError("String expected as index to retrieve an object property");var o=r(t);return a(o,i,n),o}e.name="subset",e.factory=function(t,e,o,a){var c=o(n(3)),l=a("subset",{"Array, Index":function(t,e){var n=c(t).subset(e);return e.isScalar()?n:n.valueOf()},"Matrix, Index":function(t,e){return t.subset(e)},"Object, Index":u,"string, Index":function(e,n){if(!t.isIndex(n))throw new TypeError("Index expected");if(1!==n.size().length)throw new s(n.size().length,1);var r=e.length;i(n.min()[0],r),i(n.max()[0],r);var o="";return n.dimension(0).forEach(function(t){o+=e.charAt(t)}),o},"Array, Index, any":function(t,e,n){return c(r(t)).subset(e,n,void 0).valueOf()},"Array, Index, any, any":function(t,e,n,i){return c(r(t)).subset(e,n,i).valueOf()},"Matrix, Index, any":function(t,e,n){return t.clone().subset(e,n)},"Matrix, Index, any, any":function(t,e,n,r){return t.clone().subset(e,n,r)},"string, Index, string":p,"string, Index, string, string":p,"Object, Index, any":f});return l.toTex=void 0,l;function p(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if(1!==e.size().length)throw new s(e.size().length,1);if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var o=e.dimension(0);if(o.size()[0]!==n.length)throw new s(o.size()[0],n.length);var a=t.length;i(e.min()[0]),i(e.max()[0]);for(var u=[],f=0;f<a;f++)u[f]=t.charAt(f);if(o.forEach(function(t,e){u[t]=n.charAt(e[0])}),u.length>a)for(var c=a-1,l=u.length;c<l;c++)u[c]||(u[c]=r);return u.join("")}}},function(t,e,n){"use strict";e.factory=function(t,e,n,r){var i=r("multiplyScalar",{"number, number":function(t,e){return t*e},"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,e){var n=e.clone();return n.value=null===n.value?n._normalize(t):i(n.value,t),n},"Unit, number | Fraction | BigNumber | Complex":function(t,e){var n=t.clone();return n.value=null===n.value?n._normalize(e):i(n.value,e),n},"Unit, Unit":function(t,e){return t.multiply(e)}});return i}},function(t,e,n){"use strict";e.name="algorithm11",e.factory=function(t,e,r,i){var o=r(n(4)),a=t.SparseMatrix;return function(t,e,n,r){var s=t._values,u=t._index,f=t._ptr,c=t._size,l=t._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=c[0],h=c[1],d=void 0,m=o,y=0,g=n;"string"==typeof l&&(d=l,m=i.find(o,[d,d]),y=i.convert(0,d),e=i.convert(e,d),g=i.find(n,[d,d]));for(var v=[],w=[],x=[],b=new a({values:v,index:w,ptr:x,size:[p,h],datatype:d}),_=0;_<h;_++){x[_]=w.length;for(var E=f[_],N=f[_+1],M=E;M<N;M++){var S=u[M],z=r?g(e,s[M]):g(s[M],e);m(z,y)||(w.push(S),v.push(z))}}return x[h]=w.length,b}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(n(8)),o=s(n(10)),a=s(n(26));function s(t){return t&&t.__esModule?t:{default:t}}var u=i.default.create();u.import(o.default),u.import(a.default);var f=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.roll=e,this.pitch=n,this.yaw=r,this.createMatrix()}return r(t,[{key:"add",value:function(t,e,n){this.roll+=t,this.pitch+=e,this.yaw+=n,this.createMatrix()}},{key:"createMatrix",value:function(){this.rollMatrix=t.createRollMatrix(this.roll),this.pitchMatrix=t.createPitchMatrix(this.pitch),this.yawMatrix=t.createYawMatrix(this.yaw),this.rotationMatrix=u.multiply(u.multiply(this.yawMatrix,this.pitchMatrix),this.rollMatrix)}}],[{key:"createRollMatrix",value:function(t){return u.matrix([[1,0,0],[0,Math.cos(t),-Math.sin(t)],[0,Math.sin(t),Math.cos(t)]])}},{key:"createPitchMatrix",value:function(t){return u.matrix([[Math.cos(t),0,Math.sin(t)],[0,1,0],[-Math.sin(t),0,Math.cos(t)]])}},{key:"createYawMatrix",value:function(t){return u.matrix([[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]])}}]),t}();e.default=f},function(t,e,n){"use strict";var r,i,o,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n){"object"==s(e)&&void 0!==t?t.exports=n():(i=[],void 0===(o="function"==typeof(r=n)?r.apply(e,i):r)||(t.exports=o))}(function(){return function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){if(!u&&("function"==typeof a&&a))return a(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return i(n||t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof a&&a,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){var r=function(t){var e=null,n=null;function r(){if(null!==e)return e;var n=t.document.createElement("div"),r="animationstart";if("animationName"in n.style)return{keyframesRule:"@keyframes resizeanim {from { opacity: 0; } to { opacity: 0; }}",styleDeclaration:"animation: 1ms resizeanim;",animationStartEvent:r,animationName:"resizeanim"};var i,o="",a=["Webkit","Moz","O","ms"],s=["webkitAnimationStart","animationstart","oAnimationStart","MSAnimationStart"],u=a.length;for(i=0;i<u;i++)if(a[i]+"AnimationName"in n.style){o="-"+a[i].toLowerCase()+"-",r=s[i];break}return e={keyframesRule:"@"+o+"keyframes resizeanim {from { opacity: 0; } to { opacity: 0; }}",styleDeclaration:o+"animation: 1ms resizeanim;",animationStartEvent:r,animationName:"resizeanim"}}return{insertResizeSensorStyles:function(){var e=[r().keyframesRule?r().keyframesRule:"",".ResizeSensor__resizeTriggers { "+(r().styleDeclaration?r().styleDeclaration:"")+" visibility: hidden; opacity: 0; }",".ResizeSensor__resizeTriggers, .ResizeSensor__resizeTriggers > div, .ResizeSensor__contractTrigger:before { content: ' '; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .ResizeSensor__resizeTriggers > div { background: #eee; overflow: auto; } .ResizeSensor__contractTrigger:before { width: 200%; height: 200%; }"];e=e.join(" ");var n=t.document.head||t.document.getElementsByTagName("head")[0],i=t.document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.document.createTextNode(e)),n.appendChild(i)},isAnimationSupported:function(){if(null!==n)return n;var e=t.document.createElement("div");if("animationName"in e.style)return n=!0;for(var r="Webkit Moz O ms".split(" "),i=0,o=r.length;i<o;i++)if(r[i]+"AnimationName"in e.style)return n=!0;return n=!1},getAnimationPropertiesForBrowser:r}}("undefined"!=typeof window?window:this);e.exports=r},{}],2:[function(t,e,n){var r=function(t){return function(e,n){return"currentStyle"in e||"getComputedStyle"in t?e.currentStyle?e.currentStyle[n]:t.document.defaultView.getComputedStyle(e,null).getPropertyValue(n):null}}("undefined"!=typeof window?window:this);e.exports=r},{}],3:[function(t,e,n){var r=function(t){return{requestAnimationFrame:function(){t.requestAnimationFrame||(t.requestAnimationFrame=t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||t.clearTimeout)}}}("undefined"!=typeof window?window:this);e.exports=r},{}],4:[function(t,e,n){var r=function(e){var n=t("./getStyle"),r=t("./css"),i=function(t,n){if(this.targetElement=t,this.callback=n,this.dimensions={width:0,height:0},"attachEvent"in e.document)return this.boundOnResizeHandler=this.onElementResize.bind(this),void this.targetElement.attachEvent("onresize",this.boundOnResizeHandler);this.triggerElements={},this.resizeRAF=0,this.setup()};return i.prototype.setup=function(){"static"===n(this.targetElement,"position")&&(this.targetElement.style.position="relative"),this.insertResizeTriggerElements(),this.boundScrollListener=this.handleElementScroll.bind(this),this.targetElement.addEventListener("scroll",this.boundScrollListener,!0),r.isAnimationSupported()&&(this.boundAnimationStartListener=this.resetTriggersOnAnimationStart.bind(this),this.triggerElements.container.addEventListener(r.getAnimationPropertiesForBrowser().animationStartEvent,this.boundAnimationStartListener)),this.resetTriggers()},i.prototype.insertResizeTriggerElements=function(){var t=e.document.createElement("div"),n=e.document.createElement("div"),r=e.document.createElement("div"),i=e.document.createElement("div");t.className="ResizeSensor ResizeSensor__resizeTriggers",n.className="ResizeSensor__expandTrigger",i.className="ResizeSensor__contractTrigger",n.appendChild(r),t.appendChild(n),t.appendChild(i),this.triggerElements.container=t,this.triggerElements.expand=n,this.triggerElements.expandChild=r,this.triggerElements.contract=i,this.targetElement.appendChild(t)},i.prototype.onElementResize=function(){var t=this.getDimensions();this.isResized(t)&&(this.dimensions.width=t.width,this.dimensions.height=t.height,this.elementResized())},i.prototype.handleElementScroll=function(){var t=this;this.resetTriggers(),this.resizeRAF&&e.cancelAnimationFrame(this.resizeRAF),this.resizeRAF=e.requestAnimationFrame(function(){var e=t.getDimensions();t.isResized(e)&&(t.dimensions.width=e.width,t.dimensions.height=e.height,t.elementResized())})},i.prototype.isResized=function(t){return t.width!==this.dimensions.width||t.height!==this.dimensions.height},i.prototype.getDimensions=function(){return{width:this.targetElement.offsetWidth,height:this.targetElement.offsetHeight}},i.prototype.resetTriggersOnAnimationStart=function(t){t.animationName===r.getAnimationPropertiesForBrowser().animationName&&this.resetTriggers()},i.prototype.resetTriggers=function(){this.triggerElements.contract.scrollLeft=this.triggerElements.contract.scrollWidth,this.triggerElements.contract.scrollTop=this.triggerElements.contract.scrollHeight,this.triggerElements.expandChild.style.width=this.triggerElements.expand.offsetWidth+1+"px",this.triggerElements.expandChild.style.height=this.triggerElements.expand.offsetHeight+1+"px",this.triggerElements.expand.scrollLeft=this.triggerElements.expand.scrollWidth,this.triggerElements.expand.scrollTop=this.triggerElements.expand.scrollHeight},i.prototype.elementResized=function(){this.callback(this.dimensions)},i.prototype.destroy=function(){this.removeEventListeners(),this.targetElement.removeChild(this.triggerElements.container),delete this.boundAnimationStartListener,delete this.boundScrollListener,delete this.callback,delete this.targetElement},i.prototype.removeEventListeners=function(){"attachEvent"in e.document?this.targetElement.detachEvent("onresize",this.boundOnResizeHandler):(this.triggerElements.container.removeEventListener(r.getAnimationPropertiesForBrowser().animationStartEvent,this.boundAnimationStartListener),this.targetElement.removeEventListener("scroll",this.boundScrollListener,!0))},{create:function(t,e){return new i(t,e)}}}("undefined"!=typeof window?window:this);e.exports=r},{"./css":1,"./getStyle":2}],5:[function(t,e,n){var r=function(e){var n=t("./css"),r=t("./polyfill"),i=t("./resizeSensor"),o=["IMG","COL","TR","THEAD","TFOOT"],a={};function s(t){return t.id}return"attachEvent"in e.document||(n.insertResizeSensorStyles(),"requestAnimationFrame"in e&&"cancelAnimationFrame"in e||r.requestAnimationFrame()),{create:function(t,e){if(function(t){var e=t.tagName.toUpperCase();return o.indexOf(e)>-1}(t))return console&&console.error("Given element isn't suitable to act as a resize sensor. Try wrapping it with one that is. Unsuitable elements are:",o),null;var n=s(t);if(a[n])return a[n];var r=i.create(t,e);return a[n]=r,r},destroy:function(t){var e=s(t),n=a[e];n||console&&console.error("Can't destroy ResizeSensor (404 not found).",t),n.destroy(),delete a[e]}}}("undefined"!=typeof window?window:this);e.exports=r},{"./css":1,"./polyfill":3,"./resizeSensor":4}]},{},[5])(5)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.linearSingleRotation=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.02,i=e,o=e,a=n>=e?1:-1,s=void 0,u=void 0;return n>=e?(s=e,u=n):(s=n,u=e),function(e,n){return a>0&&i>=u?a=-1:a<0&&i<=s&&(a=1),i+=o=n*r*a,e.addRotation("roll"===t?o:0,"pitch"===t?o:0,"yaw"===t?o:0),o}}}])});